<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" guidelines cpp">
<title>C++ Guidelines: Introduction | Azure SDKs</title>
<link rel="stylesheet" href="/azure-sdk/css/syntax.css" />
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/azure-sdk/css/modern-business.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="/azure-sdk/css/boxshadowproperties.css" />
<link rel="stylesheet" href="/azure-sdk/css/theme-azure.css" />
<link rel="stylesheet" href="/azure-sdk/css/customstyles.css" />
<link rel="stylesheet" href="/azure-sdk/css/normalize.css">
<link rel="stylesheet" href="/azure-sdk/css/tipuesearch.css">


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/azure-sdk/js/jquery.navgoco.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="/azure-sdk/js/toc.js"></script>
<script src="/azure-sdk/js/customscripts.js"></script>

<link rel="shortcut icon" href="/azure-sdk/images/azure-sdk-glyph.svg"/>
<link rel="alternate" type="application/rss+xml" title="Azure SDKs" href="/azure-sdk/feed.xml" />

    <script>
        $(document).ready(function () {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function (e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function (e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function () {
            $("#tg-sb-link").click(function () {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    
    <!-- Due to the page header height, all anchors uses top padding to offset the top possion and appear below the main header.
        If one requirement icon is just below another, the padding of the icon overlaps the one on top of it and block the clicking surface.
        The script below finds all requirements icons and adds z-index decrementally to place any previous icon on top of the next ones.
        The script runs after the page is completelly load (all content is downloaded).
      -->
    <script>
        $(window).bind("load", function () {
            let requeriments = $('.requirement');
            requeriments.each(function (index, element) {
                $(element).css("z-index", requeriments.length - index);
            });
        });
    </script>

</head>

<body>
    <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/azure-sdk/releases/latest/index.html"/>
                <span class="projectTitle"><img style="margin-top: -8px;" class="d-inline-block align-top" src="/azure-sdk/images/azure-sdk-glyph.svg" width="35" height="35" alt=""/> Azure SDKs</span>
            </a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <!-- <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li> -->
                <!-- entries without drop-downs appear here -->





                
                
                
                <li><a href="https://aka.ms/azsdk/blog" rel="noopener">Blog</a></li>
                
                
                
                <li><a href="/azure-sdk/releases/latest/">Releases</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Guidelines<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/azure-sdk/general_introduction.html" rel="noopener">General Guidelines</a></li>
                        
                        <li><a href="/azure-sdk/dotnet_introduction.html" rel="noopener">.NET Guidelines</a></li>
                        
                        <li><a href="/azure-sdk/java_introduction.html" rel="noopener">Java Guidelines</a></li>
                        
                        <li><a href="/azure-sdk/python_design.html" rel="noopener">Python Guidelines</a></li>
                        
                        <li><a href="/azure-sdk/typescript_introduction.html" rel="noopener">TypeScript Guidelines</a></li>
                        
                        <li><a href="/azure-sdk/android_design.html" rel="noopener">Android Guidelines</a></li>
                        
                        <li><a href="/azure-sdk/ios_design.html" rel="noopener">iOS Guidelines</a></li>
                        
                        <li><a href="/azure-sdk/clang_design.html" rel="noopener">C Guidelines</a></li>
                        
                        <li><a href="/azure-sdk/cpp_introduction.html" rel="noopener">C++ Guidelines</a></li>
                        
                        <li><a href="/azure-sdk/golang_introduction.html" rel="noopener">Go Guidelines</a></li>
                        
                        <li><a href="/azure-sdk/policies_adoption.html" rel="noopener">GitHub Repos</a></li>
                        
                        <li><a href="/azure-sdk/policies_reviewprocess.html" rel="noopener">Policies</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">API References<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        
                        <li><a href="https://aka.ms/net-docs" rel="noopener">.NET</a></li>
                        
                        
                        
                        <li><a href="https://aka.ms/java-docs" rel="noopener">Java</a></li>
                        
                        
                        
                        <li><a href="https://aka.ms/python-docs" rel="noopener">Python</a></li>
                        
                        
                        
                        <li><a href="https://aka.ms/js-docs" rel="noopener">TypeScript</a></li>
                        
                        
                        
                    </ul>
                </li>
                
                
                
                <li>
                    
                        <a style="font-size: 1.666em !important" class="fa fa-github fa-2x" title="GitHub Link" href="https://github.com/azure/azure-sdk"></a>
                    
                </li>
                <li>
                    <a style="font-size: 1.666em !important" class="fa fa-twitter fa-2x" title="Twitter Link" href="https://twitter.com/AzureSDK"></a>
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

    <!-- Page Content -->
    <div class="container-fluid" style="margin-top: 60px; min-height: calc(100vh - 50px);">
        <div id="main">
            <!-- Content Row -->
            <div class="row">
                
                
                <!-- Sidebar Column -->
                <div class="col-md-2 col-xs-12" id="tg-sb-sidebar">
                    

<div id="mysidebar" class="nav">

  <script src="/azure-sdk/js/tipuesearch_content.js"></script>
  <script src="/azure-sdk/js/tipuesearch_set.js"></script>
  <script src="/azure-sdk/js/tipuesearch.min.js"></script>

<p>
<form action="/azure-sdk/search.html" >
    <div class=" tipue_search_left"><img src="/azure-sdk/images/search.png" alt="Search Icon" class="tipue_search_icon"></div>
    <input type="text" class="form-control tipue_search_right" name="q" id="tipue_search_input" pattern=".{3,}" title="At least 3 characters" required placeholder="Search website">
</form>
</p>
<div style="clear: both;"></div>
  <ol>
    <li class="sidebarTitle"> </li>
    
      
        
        <li>
        
          
          <a title="General Guidelines" href="#">General Guidelines</a>
          
          <ul>
            
              
                <li><a title="Introduction" href="/azure-sdk/general_introduction.html">Introduction</a></li>
              
              
            
              
                <li><a title="Terminology" href="/azure-sdk/general_terminology.html">Terminology</a></li>
              
              
            
              
                <li><a title="API Design" href="/azure-sdk/general_design.html">API Design</a></li>
              
              
            
              
                <li><a title="Implementation" href="/azure-sdk/general_implementation.html">Implementation</a></li>
              
              
            
              
                <li><a title="Documentation" href="/azure-sdk/general_documentation.html">Documentation</a></li>
              
              
            
              
                <li><a title="Azure Core" href="/azure-sdk/general_azurecore.html">Azure Core</a></li>
              
              
            
              
                <li><a title="Contribution Guidelines" href="/azure-sdk/policies_opensource.html">Contribution Guidelines</a></li>
              
              
            
          </ul>
        </li>
      
        
        <li>
        
          
          <a title=".NET Guidelines" href="#">.NET Guidelines</a>
          
          <ul>
            
              
                <li><a title="Design" href="/azure-sdk/dotnet_introduction.html">Design</a></li>
              
              
            
              
                <li><a title="Implementation" href="/azure-sdk/dotnet_implementation.html">Implementation</a></li>
              
              
                <li class="subfolders">
                  <a title="API Documentation" href="#">API Documentation</a>
                  <ul>
                    
                      
                        <li><a title="Microsoft.Azure.Cosmos" href="https://docs.microsoft.com/dotnet/api/microsoft.azure.cosmos" target="_blank" rel="noopener">Microsoft.Azure.Cosmos</a></li>
                      
                    
                      
                        <li><a title="Azure.Messaging.EventHubs" href="https://azure.github.io/azure-sdk-for-net/eventhubs.html#azuremessagingeventhubs" target="_blank" rel="noopener">Azure.Messaging.EventHubs</a></li>
                      
                    
                      
                        <li><a title="Azure.Security.KeyVault.Keys" href="https://azure.github.io/azure-sdk-for-net/keyvault.html#azuresecuritykeyvaultkeys" target="_blank" rel="noopener">Azure.Security.KeyVault.Keys</a></li>
                      
                    
                      
                        <li><a title="Azure.Security.KeyVault.Secrets" href="https://azure.github.io/azure-sdk-for-net/keyvault.html#azuresecuritykeyvaultsecrets" target="_blank" rel="noopener">Azure.Security.KeyVault.Secrets</a></li>
                      
                    
                      
                        <li><a title="Azure.Storage.Blobs" href="https://azure.github.io/azure-sdk-for-net/storage.html#azurestorageblobs" target="_blank" rel="noopener">Azure.Storage.Blobs</a></li>
                      
                    
                      
                        <li><a title="Azure.Storage.Files.Shares" href="https://azure.github.io/azure-sdk-for-net/storage.html#azurestoragefilesshares" target="_blank" rel="noopener">Azure.Storage.Files.Shares</a></li>
                      
                    
                      
                        <li><a title="Azure.Storage.Queues" href="https://azure.github.io/azure-sdk-for-net/storage.html#azurestoragequeues" target="_blank" rel="noopener">Azure.Storage.Queues</a></li>
                      
                    
                  </ul>
                </li>
              
            
          </ul>
        </li>
      
        
        <li>
        
          
          <a title="Java Guidelines" href="#">Java Guidelines</a>
          
          <ul>
            
              
                <li><a title="Design" href="/azure-sdk/java_introduction.html">Design</a></li>
              
              
            
              
                <li><a title="Implementation" href="/azure-sdk/java_implementation.html">Implementation</a></li>
              
              
            
              
                <li><a title="Spring Guidelines" href="/azure-sdk/java_spring.html">Spring Guidelines</a></li>
              
              
                <li class="subfolders">
                  <a title="API Documentation" href="#">API Documentation</a>
                  <ul>
                    
                      
                        <li><a title="azure-data-appconfiguration" href="https://azure.github.io/azure-sdk-for-java/appconfiguration.html#azure-data-appconfiguration" target="_blank" rel="noopener">azure-data-appconfiguration</a></li>
                      
                    
                      
                        <li><a title="azure-cosmos" href="https://azure.github.io/azure-sdk-for-java/cosmosdb.html#azure-cosmos" target="_blank" rel="noopener">azure-cosmos</a></li>
                      
                    
                      
                        <li><a title="azure-messaging-eventhubs" href="https://azure.github.io/azure-sdk-for-java/eventhubs.html#azure-messaging-eventhubs" target="_blank" rel="noopener">azure-messaging-eventhubs</a></li>
                      
                    
                      
                        <li><a title="azure-keyvault-keys" href="https://azure.github.io/azure-sdk-for-java/keyvault.html#azure-security-keyvault-keys" target="_blank" rel="noopener">azure-keyvault-keys</a></li>
                      
                    
                      
                        <li><a title="azure-keyvault-secrets" href="https://azure.github.io/azure-sdk-for-java/keyvault.html#azure-security-keyvault-secrets" target="_blank" rel="noopener">azure-keyvault-secrets</a></li>
                      
                    
                      
                        <li><a title="azure-storage-blob" href="https://azure.github.io/azure-sdk-for-java/storage.html#azure-storage-blob" target="_blank" rel="noopener">azure-storage-blob</a></li>
                      
                    
                      
                        <li><a title="azure-storage-file-share" href="https://azure.github.io/azure-sdk-for-java/storage.html#azure-storage-file-share" target="_blank" rel="noopener">azure-storage-file-share</a></li>
                      
                    
                      
                        <li><a title="azure-storage-queue" href="https://azure.github.io/azure-sdk-for-java/storage.html#azure-storage-queue" target="_blank" rel="noopener">azure-storage-queue</a></li>
                      
                    
                  </ul>
                </li>
              
            
          </ul>
        </li>
      
        
        <li>
        
          
          <a title="Python Guidelines" href="#">Python Guidelines</a>
          
          <ul>
            
              
                <li><a title="Design" href="/azure-sdk/python_design.html">Design</a></li>
              
              
            
              
                <li><a title="Implementation" href="/azure-sdk/python_implementation.html">Implementation</a></li>
              
              
            
              
                <li><a title="Documentation" href="/azure-sdk/python_documentation.html">Documentation</a></li>
              
              
                <li class="subfolders">
                  <a title="API Documentation" href="#">API Documentation</a>
                  <ul>
                    
                      
                        <li><a title="azure-cosmos" href="https://azure.github.io/azure-sdk-for-python/cosmosdb.html#azure-cosmos" target="_blank" rel="noopener">azure-cosmos</a></li>
                      
                    
                      
                        <li><a title="azure-eventhub" href="https://azure.github.io/azure-sdk-for-python/eventhubs.html#azure-eventhub" target="_blank" rel="noopener">azure-eventhub</a></li>
                      
                    
                      
                        <li><a title="azure-keyvault-keys" href="https://azure.github.io/azure-sdk-for-python/keyvault.html#azure-keyvault-keys" target="_blank" rel="noopener">azure-keyvault-keys</a></li>
                      
                    
                      
                        <li><a title="azure-keyvault-secrets" href="https://azure.github.io/azure-sdk-for-python/keyvault.html#azure-keyvault-secrets" target="_blank" rel="noopener">azure-keyvault-secrets</a></li>
                      
                    
                      
                        <li><a title="azure-storage-blob" href="https://azure.github.io/azure-sdk-for-python/storage.html#azure-storage-blob" target="_blank" rel="noopener">azure-storage-blob</a></li>
                      
                    
                      
                        <li><a title="azure-storage-file-share" href="https://azure.github.io/azure-sdk-for-python/storage.html#azure-storage-file-share" target="_blank" rel="noopener">azure-storage-file-share</a></li>
                      
                    
                      
                        <li><a title="azure-storage-queue" href="https://azure.github.io/azure-sdk-for-python/storage.html#azure-storage-queue" target="_blank" rel="noopener">azure-storage-queue</a></li>
                      
                    
                  </ul>
                </li>
              
            
          </ul>
        </li>
      
        
        <li>
        
          
          <a title="TypeScript Guidelines" href="#">TypeScript Guidelines</a>
          
          <ul>
            
              
                <li><a title="Introduction" href="/azure-sdk/typescript_introduction.html">Introduction</a></li>
              
              
            
              
                <li><a title="API Design" href="/azure-sdk/typescript_design.html">API Design</a></li>
              
              
            
              
                <li><a title="Implementation" href="/azure-sdk/typescript_implementation.html">Implementation</a></li>
              
              
            
              
                <li><a title="Documentation" href="/azure-sdk/typescript_documentation.html">Documentation</a></li>
              
              
                <li class="subfolders">
                  <a title="API Documentation" href="#">API Documentation</a>
                  <ul>
                    
                      
                        <li><a title="@azure/cosmos" href="https://azure.github.io/azure-cosmos-js/" target="_blank" rel="noopener">@azure/cosmos</a></li>
                      
                    
                      
                        <li><a title="@azure/event-hubs" href="https://azure.github.io/azure-sdk-for-js/eventhubs.html#azure-event-hubs" target="_blank" rel="noopener">@azure/event-hubs</a></li>
                      
                    
                      
                        <li><a title="@azure/keyvault-keys" href="https://azure.github.io/azure-sdk-for-js/keyvault.html#azure-keyvault-keys" target="_blank" rel="noopener">@azure/keyvault-keys</a></li>
                      
                    
                      
                        <li><a title="@azure/keyvault-secrets" href="https://azure.github.io/azure-sdk-for-js/keyvault.html#azure-keyvault-secrets" target="_blank" rel="noopener">@azure/keyvault-secrets</a></li>
                      
                    
                      
                        <li><a title="@azure/storage-blob" href="https://azure.github.io/azure-sdk-for-js/storage.html#azure-storage-blob" target="_blank" rel="noopener">@azure/storage-blob</a></li>
                      
                    
                      
                        <li><a title="@azure/storage-file-share" href="https://azure.github.io/azure-sdk-for-js/storage.html#azure-storage-file-share" target="_blank" rel="noopener">@azure/storage-file-share</a></li>
                      
                    
                      
                        <li><a title="@azure/storage-queue" href="https://azure.github.io/azure-sdk-for-js/storage.html#azure-storage-queue" target="_blank" rel="noopener">@azure/storage-queue</a></li>
                      
                    
                  </ul>
                </li>
              
            
          </ul>
        </li>
      
        
        <li>
        
          
          <a title="Android Guidelines" href="#">Android Guidelines</a>
          
          <ul>
            
              
                <li><a title="Design" href="/azure-sdk/android_design.html">Design</a></li>
              
              
            
              
                <li><a title="Implementation" href="/azure-sdk/android_implementation.html">Implementation</a></li>
              
              
            
          </ul>
        </li>
      
        
        <li>
        
          
          <a title="iOS Guidelines" href="#">iOS Guidelines</a>
          
          <ul>
            
              
                <li><a title="Design" href="/azure-sdk/ios_design.html">Design</a></li>
              
              
            
              
                <li><a title="Implementation" href="/azure-sdk/ios_implementation.html">Implementation</a></li>
              
              
            
          </ul>
        </li>
      
        
        <li>
        
          
          <a title="C Guidelines" href="#">C Guidelines</a>
          
          <ul>
            
              
                <li><a title="Design" href="/azure-sdk/clang_design.html">Design</a></li>
              
              
            
              
                <li><a title="Implementation" href="/azure-sdk/clang_implementation.html">Implementation</a></li>
              
              
                <li class="subfolders">
                  <a title="API Documentation" href="#">API Documentation</a>
                  <ul>
                    
                      
                        <li><a title="az_iot" href="https://azuresdkdocs.blob.core.windows.net/$web/c/az_iot/latest/index.html" target="_blank" rel="noopener">az_iot</a></li>
                      
                    
                  </ul>
                </li>
              
            
          </ul>
        </li>
      
        
        <li>
        
          
          <a title="C++ Guidelines" href="#">C++ Guidelines</a>
          
          <ul>
            
              
                <li class="active"><a title="Design" href="/azure-sdk/cpp_introduction.html">Design</a></li>
              
              
            
              
                <li><a title="Implementation" href="/azure-sdk/cpp_implementation.html">Implementation</a></li>
              
              
                <li class="subfolders">
                  <a title="API Documentation" href="#">API Documentation</a>
                  <ul>
                    
                      
                        <li><a title="azure-storage-blob" href="https://azure.github.io/azure-sdk-for-cpp/storage.html#azure-storage-blob" target="_blank" rel="noopener">azure-storage-blob</a></li>
                      
                    
                      
                        <li><a title="azure-storage-file-datalake" href="https://azure.github.io/azure-sdk-for-cpp/storage.html#azure-storage-file-datalake" target="_blank" rel="noopener">azure-storage-file-datalake</a></li>
                      
                    
                      
                        <li><a title="azure-storage-file-share" href="https://azure.github.io/azure-sdk-for-cpp/storage.html#azure-storage-file-shares" target="_blank" rel="noopener">azure-storage-file-share</a></li>
                      
                    
                  </ul>
                </li>
              
            
          </ul>
        </li>
      
        
        <li>
        
          
          <a title="Go Guidelines" href="#">Go Guidelines</a>
          
          <ul>
            
              
                <li><a title="Design" href="/azure-sdk/golang_introduction.html">Design</a></li>
              
              
            
              
                <li><a title="Implementation" href="/azure-sdk/golang_implementation.html">Implementation</a></li>
              
              
            
          </ul>
        </li>
      
        
        <li>
        
          
          <a title="GitHub Repos" href="#">GitHub Repos</a>
          
          <ul>
            
              
                <li><a title="Guidelines Contributions" href="/azure-sdk/policies_adoption.html">Guidelines Contributions</a></li>
              
              
            
              
                <li><a title="Repository structure" href="/azure-sdk/policies_repostructure.html">Repository structure</a></li>
              
              
            
              
                <li><a title="Repository branching" href="/azure-sdk/policies_repobranching.html">Repository branching</a></li>
              
              
            
              
                <li><a title="Pipelines" href="/azure-sdk/policies_pipelines.html">Pipelines</a></li>
              
              
            
          </ul>
        </li>
      
        
        <li>
        
          
          <a title="Policies" href="#">Policies</a>
          
          <ul>
            
              
                <li><a title="Review Process" href="/azure-sdk/policies_reviewprocess.html">Review Process</a></li>
              
              
            
              
                <li><a title="Releases" href="/azure-sdk/policies_releases.html">Releases</a></li>
              
              
            
              
                <li><a title="Release notes" href="/azure-sdk/policies_releasenotes.html">Release notes</a></li>
              
              
            
              
                <li><a title="Support" href="/azure-sdk/policies_support.html">Support</a></li>
              
              
            
          </ul>
        </li>
      
    
  </ol>
</div>

<script>$("li.active").parents('li').toggleClass("active");</script>

                </div>
                
                

                <!-- Content Column -->
                <div class="col-md-10 col-xs-12" id="tg-sb-content">
                    <div class="row">
    
    <div class="col-md-2 col-xs-12 content-right pull-right">
        
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 60);
  return false
})
  
});
</script>

<div id="toc"></div>

    </div>
    

    <div class="col-md-10  col-xs-12 content-center pull-left">
        <div class="post-header">
        <h1 class="post-title-main">C++ Guidelines: Introduction</h1>
        </div>
        
        
        
        <div class="post-content">
            
        
            
        
            <div class="alert alert-danger" role="alert"><i class="fa fa-exclamation-circle"></i> <b>DRAFT:</b> The C++ Language guidelines are in DRAFT status</div>

<h2 id="introduction">Introduction</h2>

<p>The C++ guidelines are for the benefit of client library designers targeting service applications written in C++.  You do not have to write a client library for C++ if your service is not normally accessed from C++.</p>

<h3 id="cpp-principles">Design Principles</h3>

<p>The Azure SDK should be designed to enhance the productivity of developers connecting to Azure services. Other qualities (such as completeness, extensibility, and performance) are important but secondary. Productivity is achieved by adhering to the principles described below:</p>

<p><strong>Idiomatic</strong></p>

<ul>
  <li>The SDK should follow the general design guidelines and conventions for the target language. It should feel natural to a developer in the target language.</li>
  <li>We embrace the ecosystem with its strengths and its flaws.</li>
  <li>We work with the ecosystem to improve it for all developers.</li>
</ul>

<p><strong>Consistent</strong></p>

<ul>
  <li>Client libraries should be consistent within the language, consistent with the service and consistent between all target languages. In cases of conflict, consistency within the language is the highest priority and consistency between all target languages is the lowest priority.</li>
  <li>Service-agnostic concepts such as logging, HTTP communication, and error handling should be consistent. The developer should not have to relearn service-agnostic concepts as they move between client libraries.</li>
  <li>Consistency of terminology between the client library and the service is a good thing that aids in diagnosability.</li>
  <li>All differences between the service and client library must have a good (articulated) reason for existing, rooted in idiomatic usage rather than whim.</li>
  <li>The Azure SDK for each target language feels like a single product developed by a single team.</li>
  <li>There should be feature parity across target languages. This is more important than feature parity with the service.</li>
</ul>

<p><strong>Approachable</strong></p>

<ul>
  <li>We are experts in the supported technologies so our customers, the developers, don’t have to be.</li>
  <li>Developers should find great documentation (hero tutorial, how to articles, samples, and API documentation) that makes it easy to be successful with the Azure service.</li>
  <li>Getting off the ground should be easy through the use of predictable defaults that implement best practices. Think about progressive concept disclosure.</li>
  <li>The SDK should be easily acquired through the most normal mechanisms in the target language and ecosystem.</li>
  <li>Developers can be overwhelmed when learning new service concepts. The core use cases should be discoverable.</li>
</ul>

<p><strong>Diagnosable</strong></p>

<ul>
  <li>The developer should be able to understand what is going on.</li>
  <li>It should be discoverable when and under what circumstances a network call is made.</li>
  <li>Defaults are discoverable and their intent is clear.</li>
  <li>Logging, tracing, and exception handling are fundamental and should be thoughtful.</li>
  <li>Error messages should be concise, correlated with the service, actionable, and human readable. Ideally, the error message should lead the consumer to a useful action that they can take.</li>
  <li>Integrating with the preferred debugger for the target language should be easy.</li>
</ul>

<p><strong>Dependable</strong></p>

<ul>
  <li>Breaking changes are more harmful to a user’s experience than most new features and improvements are beneficial.</li>
  <li>Incompatibilities should never be introduced deliberately without thorough review and very strong justification.</li>
  <li>Do not rely on dependencies that can force our hand on compatibility.</li>
</ul>

<h3 id="cpp-general">General Guidelines</h3>

<p><a href="#cpp-general-follow-general-guidelines" name="cpp-general-follow-general-guidelines" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  follow the <a href="/azure-sdk/general_introduction.html">General Azure SDK Guidelines</a>.</p>

<h3 id="support-for-non-http-protocols">Support for non-HTTP Protocols</h3>

<p>This document contains guidelines developed primarily for typical Azure REST services, i.e. stateless services with request-response based interaction model. Many of the guidelines in this document are more broadly applicable, but some might be specific to such REST services.</p>

<h2 id="cpp-api">Azure SDK API Design</h2>

<p>The API surface of your client library must have the most thought as it is the primary interaction that the consumer has with your service.</p>

<p><a href="#cpp-design-naming-concise" name="cpp-design-naming-concise" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use clear, concise, and meaningful names.</p>

<p><a href="#cpp-design-naming-abbrev" name="cpp-design-naming-abbrev" class="requirement" role="img" aria-label="YOU SHOULD NOT">⚠️</a> <strong>YOU SHOULD NOT</strong>  use abbreviations unless necessary or when they are commonly used and understood.  For example, <code class="language-plaintext highlighter-rouge">az</code> is allowed since it is commonly used to mean <code class="language-plaintext highlighter-rouge">Azure</code>, and <code class="language-plaintext highlighter-rouge">iot</code> is used since it is a commonly understood industry term.  However, using <code class="language-plaintext highlighter-rouge">kv</code> for Key Vault would not be allowed since <code class="language-plaintext highlighter-rouge">kv</code> is not commonly used to refer to Key Vault.</p>

<p><a href="#cpp-design-dependencies-adparch" name="cpp-design-dependencies-adparch" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  consult the <a href="https://github.com/azure/azure-sdk/issues">Architecture Board</a> if you wish to use a dependency that is not on the list of approved dependencies.</p>

<h3 id="cpp-client">Service Client</h3>

<p>Service clients are the main starting points for developers calling Azure services with the Azure SDK. Each client library should have at least one client in its main namespace, so it’s easy to discover. The guidelines in this section describe patterns for the design of a service client.</p>

<p>There exists a distinction that must be made clear with service clients: not all classes that perform HTTP (or otherwise) requests to a service are automatically designated as a service client. A service client designation is only applied to classes that are able to be directly constructed because they are uniquely represented on the service. Additionally, a service client designation is only applied if there is a specific scenario that applies where the direct creation of the client is appropriate. If a resource can not be uniquely identified or there is no need for direct creation of the type, then the service client designation should not apply.</p>

<p><a href="#cpp-service-client-name" name="cpp-service-client-name" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  name service client types with the <em>Client</em> suffix (for example, <code class="language-plaintext highlighter-rouge">ConfigurationClient</code>).</p>

<p><a href="#cpp-service-client-namespace" name="cpp-service-client-namespace" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  place service client types that the consumer is most likely to interact with in the root namespace of the client library (for example, <code class="language-plaintext highlighter-rouge">Azure::&lt;group&gt;::&lt;service&gt;</code>). Specialized service clients should be placed in sub-packages.</p>

<p><a href="#cpp-service-client-type" name="cpp-service-client-type" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  make service clients <code class="language-plaintext highlighter-rouge">classes</code>, not <code class="language-plaintext highlighter-rouge">structs</code>.</p>

<p><a href="#cpp-service-client-immutable" name="cpp-service-client-immutable" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  ensure that all service client classes thread safe (usually by making them immutable and stateless).</p>

<p><a href="#cpp-service-client-geturl" name="cpp-service-client-geturl" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  expose a <code class="language-plaintext highlighter-rouge">GetUrl()</code> method which returns the URL.</p>

<h4 id="cpp-client-ctor">Service Client Constructors</h4>

<p><a href="#cpp-service-client-constructor-minimal" name="cpp-service-client-constructor-minimal" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  provide a minimal constructor that takes only the parameters required to connect to the service.</p>

<blockquote>
  <p>TODO: Add service client factory pattern examples for connection strings.</p>
</blockquote>

<p><a href="#cpp-client-constructor-no-default-params" name="cpp-client-constructor-no-default-params" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  use default parameters in the simplest constructor.</p>

<p><a href="#cpp-client-constructor-overloads" name="cpp-client-constructor-overloads" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  provide constructor overloads that allow specifying additional options via  an <code class="language-plaintext highlighter-rouge">options</code> parameter. The type of the parameter is typically a subclass of <code class="language-plaintext highlighter-rouge">ClientOptions</code> type, shown below.</p>

<h5 id="client-configuration">Client Configuration</h5>

<p><a href="#cpp-config-global-config" name="cpp-config-global-config" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use relevant global configuration settings either by default or when explicitly requested to by the user, for example by passing in a configuration object to a client constructor.</p>

<p><a href="#cpp-config-for-different-clients" name="cpp-config-for-different-clients" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  allow different clients of the same type to use different configurations.</p>

<p><a href="#cpp-config-optout" name="cpp-config-optout" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  allow consumers of your service clients to opt out of all global configuration settings at once.</p>

<p><a href="#cpp-config-global-overrides" name="cpp-config-global-overrides" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  allow all global configuration settings to be overridden by client-provided options. The names of these options should align with any user-facing global configuration keys.</p>

<p><a href="#cpp-config-defaults-nochange" name="cpp-config-defaults-nochange" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  Change the default values of client
configuration options based on system or program state.</p>

<p><a href="#cpp-config-defaults-nobuildchange" name="cpp-config-defaults-nobuildchange" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  Change default values of
client configuration options based on how the client library was built.</p>

<p><a href="#cpp-config-behaviour-changes" name="cpp-config-behaviour-changes" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  change behavior based on configuration changes that occur after the client is constructed. Hierarchies of clients inherit parent client configuration unless explicitly changed or overridden. Exceptions to this requirement are as follows:</p>

<ol>
  <li>Log level, which must take effect immediately across the Azure SDK.</li>
  <li>Tracing on/off, which must take effect immediately across the Azure SDK.</li>
</ol>

<p><a href="#cpp-config-noruntime" name="cpp-config-noruntime" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  use client library specific runtime
configuration such as environment variables or a config file. Keep in mind that many IoT devices
won’t have a filesystem or an “environment block” to read from.</p>

<h5 id="cpp-usage-options">Using ClientOptions</h5>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<h5 id="service-versions">Service Versions</h5>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<p><a href="#cpp-versioning-highest-api" name="cpp-versioning-highest-api" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  call the highest supported service API version by default.</p>

<p><a href="#cpp-versioning-select-api-version" name="cpp-versioning-select-api-version" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  allow the consumer to explicitly select a supported service API version when instantiating the service client.</p>

<p>Use a constructor parameter called <code class="language-plaintext highlighter-rouge">version</code> on the client options type.</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">version</code> parameter must be the first parameter to all constructor overloads.</li>
  <li>The <code class="language-plaintext highlighter-rouge">version</code> parameter must be required, and default to the latest supported service version.</li>
  <li>The type of the <code class="language-plaintext highlighter-rouge">version</code> parameter must be <code class="language-plaintext highlighter-rouge">ServiceVersion</code>; an enum nested in the options type.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ServiceVersion</code> enum must use explicit values starting from 1.</li>
  <li><code class="language-plaintext highlighter-rouge">ServiceVersion</code> enum value 0 is reserved. When 0 is passed into APIs, ArgumentException should be thrown.</li>
</ul>

<h5 id="mocking">Mocking</h5>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<h4 id="cpp-client-methods">Service Methods</h4>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<p><em>Service methods</em> are the methods on the client that invoke operations on the service.</p>

<h5 id="sync-and-async">Sync and Async</h5>

<p>The C++ SDK is designed for synchronous api calls.</p>

<p><a href="#cpp-design-client-sync-api" name="cpp-design-client-sync-api" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  provide a synchronous programming model.</p>

<p><a href="#cpp-design-client-sync-api" name="cpp-design-client-sync-api" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  provide an async programming model.</p>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<h5 id="naming">Naming</h5>

<ul>
  <li>
    <p><strong>PascalCase</strong> identifiers start with an uppercase letter and then use additional capital letters to divide words. Acronyms and initialisms are capitalized if they are 2 letters or shorter; otherwise only the first letter is capitalized. For example, <code class="language-plaintext highlighter-rouge">PascalCase</code>, <code class="language-plaintext highlighter-rouge">HttpRequest</code>, <code class="language-plaintext highlighter-rouge">JsonParser</code>, or <code class="language-plaintext highlighter-rouge">IOContext</code>.</p>
  </li>
  <li>
    <p><strong>camelCase</strong> identifiers start with a lowercase letter and then use additional capital letters to divide words. Acronyms and initialisms that start an identifier are all lowercase if they begin an identifier, otherwise they follow the same 2 letters rule as PascalCase. For example, <code class="language-plaintext highlighter-rouge">camelCase</code>, <code class="language-plaintext highlighter-rouge">httpRequest</code>, <code class="language-plaintext highlighter-rouge">processHttp</code>, <code class="language-plaintext highlighter-rouge">ioContext</code>, <code class="language-plaintext highlighter-rouge">startIO</code>.</p>
  </li>
  <li>
    <p><strong>ALL_CAPITAL_SNAKE_CASE</strong> identifiers are composed of entirely capital letters and divide words with underscores.</p>
  </li>
</ul>

<p><a href="#cpp-design-naming-functions" name="cpp-design-naming-functions" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  name functions with <strong>PascalCase</strong>. For example:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">namespace</span> <span class="n">Azure</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">Group</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">Service</span> <span class="p">{</span>
<span class="k">namespace</span> <span class="n">_detail</span> <span class="p">{</span>
<span class="c1">// Part of the private API</span>
<span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span> <span class="kt">int64_t</span> <span class="n">ComputeHash</span><span class="p">(</span><span class="kt">int32_t</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">b</span><span class="p">)</span> <span class="k">noexcept</span><span class="p">;</span>
<span class="p">}</span> <span class="c1">// namespace _detail</span>

<span class="c1">// Part of the public API</span>
<span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span> <span class="n">CatHerdClient</span> <span class="n">CatHerdCreateClient</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">herdName</span><span class="p">);</span>

<span class="c1">// Bad - private API in public namespace.</span>
<span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span> <span class="kt">int64_t</span> <span class="n">ComputeHash</span><span class="p">(</span><span class="kt">int32_t</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">b</span><span class="p">)</span> <span class="k">noexcept</span><span class="p">;</span>
<span class="p">}}}</span> <span class="c1">// namespace Azure::Group::Service</span></code></pre></figure>

<p><a href="#cpp-design-naming-functions-noexcept" name="cpp-design-naming-functions-noexcept" class="requirement" role="img" aria-label="YOU SHOULD">☑️</a> <strong>YOU SHOULD</strong>  declare all functions that can never throw exceptions <code class="language-plaintext highlighter-rouge">noexcept</code>.</p>

<p><a href="#cpp-design-naming-variables-public-global" name="cpp-design-naming-variables-public-global" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  name namespace scope variables intended for user consumption with <strong>PascalCase</strong>.</p>

<p><a href="#cpp-design-naming-variables-constants" name="cpp-design-naming-variables-constants" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  name namespace scope <code class="language-plaintext highlighter-rouge">const</code> or <code class="language-plaintext highlighter-rouge">constexpr</code> variables intended for user consumption with <strong>PascalCase</strong>.</p>

<p><a href="#cpp-design-naming-variables-public-global" name="cpp-design-naming-variables-public-global" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  name namespace scope non-constant variables intended only for internal consumption with a <code class="language-plaintext highlighter-rouge">g_</code> prefix followed by <strong>camelCase</strong>. For example, <code class="language-plaintext highlighter-rouge">g_applicationContext</code>. Note that all such cases will be in a <code class="language-plaintext highlighter-rouge">_detail</code> namespace or an unnamed namespace.</p>

<p><a href="#cpp-design-naming-variables-local" name="cpp-design-naming-variables-local" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  name local variables and parameters with <strong>camelCase</strong>.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="c1">// Examples of the above naming rules:</span>

<span class="k">namespace</span> <span class="n">Azure</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">Group</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">Service</span> <span class="p">{</span>
<span class="kt">int</span> <span class="n">PublicNamespaceScopeVariable</span><span class="p">;</span> <span class="c1">// these should be used sparingly</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">PublicNamespaceScopeConstant</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="k">constexpr</span> <span class="kt">int</span> <span class="n">OtherPublicNamespaceScopeConstant</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="k">constexpr</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">PublicNamespaceScopeConstantPointer</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span> <span class="c1">// const pointer to modifiable</span>

<span class="kt">void</span> <span class="n">Function</span><span class="p">(</span><span class="kt">int</span> <span class="n">parameterName</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">localName</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">namespace</span> <span class="n">_detail</span> <span class="p">{</span>
    <span class="k">extern</span> <span class="kt">int</span> <span class="n">g_internalUseGlobal</span><span class="p">;</span>
<span class="p">}</span> <span class="c1">// namespace _detail</span>

<span class="p">}}}</span> <span class="c1">// namespace Azure::Group::Service</span></code></pre></figure>

<p><a href="#cpp-design-naming-variables-typing-units" name="cpp-design-naming-variables-typing-units" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use types to enforce units where possible. For example, the C++ standard library provides <code class="language-plaintext highlighter-rouge">std::chrono</code> which makes time conversions automatic.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="c1">// Bad</span>
<span class="n">uint32</span> <span class="n">Timeout</span><span class="p">;</span>

<span class="c1">// Good</span>
<span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">milliseconds</span> <span class="n">Timeout</span><span class="p">;</span></code></pre></figure>

<p><a href="#cpp-design-naming-naming-units" name="cpp-design-naming-naming-units" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  include units in names when a type based solution to enforce units is not present.  If a variable represents weight, or some other unit, then include the unit in the name so developers can more easily spot problems.  For example:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="c1">// Bad</span>
<span class="n">uint32</span> <span class="n">Timeout</span><span class="p">;</span>
<span class="n">uint32</span> <span class="n">MyWeight</span><span class="p">;</span>

<span class="c1">// Good</span>
<span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">milliseconds</span> <span class="n">Timeout</span><span class="p">;</span>
<span class="n">uint32</span> <span class="n">MyWeightKg</span><span class="p">;</span></code></pre></figure>

<p><a href="#cpp-design-naming-variables-one-per-line" name="cpp-design-naming-variables-one-per-line" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  Declare or define each variable on its own line, except when declaring bitfields. An exception can be made when declaring bitfields (to clarify that the variable is a part of one bitfield). The use of bitfields in general is discouraged.</p>

<h5 id="cancellation">Cancellation</h5>

<p><a href="#cpp-service-methods-cancellation" name="cpp-service-methods-cancellation" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  ensure all service methods, both asynchronous and synchronous, take an optional <code class="language-plaintext highlighter-rouge">Context</code> parameter called <em>context</em>.</p>

<p>The context should be further passed to all calls that take a context. DO NOT check the context manually, except when running a significant amount of CPU-bound work within the library, e.g. a loop that can take more than a typical network call.</p>

<h5 id="mocking-1">Mocking</h5>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<h5 id="return-types">Return Types</h5>

<p><a href="#cpp-design-client-return-types" name="cpp-design-client-return-types" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  return <code class="language-plaintext highlighter-rouge">Response&lt;T&gt;</code> or <code class="language-plaintext highlighter-rouge">Response</code> from synchronous methods.</p>

<p><code class="language-plaintext highlighter-rouge">T</code> represents the content of the response, as described below.</p>

<p>The <code class="language-plaintext highlighter-rouge">T</code> can be either an unstructured payload (e.g. bytes of a storage blob) or a <em>model type</em> representing deserialized response content.</p>

<p><a href="#cpp-design-client-return-unstructured-type" name="cpp-design-client-return-unstructured-type" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use one of the following return types to represent an unstructured payload:</p>

<blockquote>
  <p>TODO: What type should be used for large streaming payloads?</p>
</blockquote>

<ul>
  <li><code class="language-plaintext highlighter-rouge">TODO</code> - for large payloads</li>
  <li><code class="language-plaintext highlighter-rouge">byte[]</code> - for small payloads</li>
</ul>

<p><a href="#cpp-design-client-return-model-type" name="cpp-design-client-return-model-type" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  return a <em>model type</em> if the content has a schema and can be deserialized.</p>

<p>For more information, see <a href="#cpp-model-types">Model Types</a></p>

<p>Requests to the service fall into two basic groups - methods that make a single logical request, or a deterministic sequence of requests.  An example of a <em>single logical request</em> is a request that may be retried inside the operation.  An example of a <em>deterministic sequence of requests</em> is a paged operation.</p>

<p>The <em>logical entity</em> is a protocol neutral representation of a response. For HTTP, the logical entity may combine data from headers, body and the status line. A common example is exposing an ETag header as a property on the logical entity in addition to any deserialized content from the body.</p>

<p><a href="#cpp-design-logical-client-return-logical-entities" name="cpp-design-logical-client-return-logical-entities" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  optimize for returning the logical entity for a given request. The logical entity MUST represent the information needed in the 99%+ case.</p>

<p><a href="#cpp-design-logical-client-expose-raw" name="cpp-design-logical-client-expose-raw" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  <em>make it possible</em> for a developer to get access to the complete response, including the status line, headers and body. The client library MUST follow the language specific guidance for accomplishing this.</p>

<p>For example, you may choose to do something similar to the following:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">namespace</span> <span class="n">Azure</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">Group</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">Service</span> <span class="p">{</span>
<span class="k">struct</span> <span class="nc">JsonShortItem</span> <span class="p">{</span>
    <span class="c1">// JSON decoded structure.</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="nc">JsonShortPagedResults</span> <span class="p">{</span>
    <span class="n">uint32</span> <span class="n">Size</span><span class="p">;</span>
    <span class="n">JsonShortItem</span><span class="o">*</span> <span class="n">Items</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="nc">JsonShortRawPagedResults</span> <span class="p">{</span>
    <span class="n">HTTP_HEADERS</span><span class="o">*</span> <span class="n">Headers</span><span class="p">;</span>
    <span class="n">uint16</span> <span class="n">StatusCode</span><span class="p">;</span>
    <span class="n">byte</span><span class="o">*</span> <span class="n">RawBody</span><span class="p">;</span>
    <span class="n">JsonShortPagedResults</span><span class="o">*</span> <span class="n">Results</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">ShortItemsClient</span> <span class="p">{</span>
    <span class="n">JsonShortPagedResults</span><span class="o">*</span> <span class="n">JsonGetShortListItems</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
    <span class="n">JsonShortRawPagedResults</span><span class="o">*</span> <span class="n">JsonGetShortListItemsWithResponse</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="cm">/* extra params */</span><span class="p">);</span>
<span class="p">};</span>
<span class="p">}}}</span> <span class="c1">// namespace Azure::Group::Service</span></code></pre></figure>

<p><a href="#cpp-design-logical-client-document-raw-stream" name="cpp-design-logical-client-document-raw-stream" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  document and provide examples on how to access the raw and streamed response for a given request, where exposed by the client library.  We do not expect all methods to expose a streamed response.</p>

<p>For methods that combine multiple requests into a single call:</p>

<p><a href="#cpp-design-logical-client-no-headers-if-confusing" name="cpp-design-logical-client-no-headers-if-confusing" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  return headers and other per-request metadata unless it is obvious as to which specific HTTP request the methods return value corresponds to.</p>

<p><a href="#cpp-design-logical-client-expose-data-for-composite-failures" name="cpp-design-logical-client-expose-data-for-composite-failures" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  provide enough information in failure cases for an application to take appropriate corrective action.</p>

<h5 id="thread-safety">Thread Safety</h5>

<p><a href="#cpp-design-client-methods-thread-safety" name="cpp-design-client-methods-thread-safety" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  be thread-safe. All public members of the client type must be safe to call from multiple threads concurrently.</p>

<h4 id="cpp-parameters">Service Method Parameters</h4>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<h5 id="parameter-validation">Parameter Validation</h5>

<p>The service client will have several methods that perform requests on the service.  <em>Service parameters</em> are directly passed across the wire to an Azure service.  <em>Client parameters</em> are not passed directly to the service, but used within the client library to fulfill the request.  Examples of client parameters include values that are used to construct a URI, or a file that needs to be uploaded to storage.</p>

<p><a href="#cpp-params-client-validation" name="cpp-params-client-validation" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  validate client parameters.</p>

<p><a href="#cpp-params-server-validation" name="cpp-params-server-validation" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  validate service parameters.  This includes null checks, empty strings, and other common validating conditions. Let the service validate any request parameters.</p>

<p><a href="#cpp-params-check-devex" name="cpp-params-check-devex" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  validate the developer experience when the service parameters are invalid to ensure appropriate error messages are generated by the service.  If the developer experience is compromised due to service-side error messages, work with the service team to correct prior to release.</p>

<h4 id="cpp-paging">Methods Returning Collections (Paging)</h4>

<p>Although object-orientated languages can eschew low-level pagination APIs in favor of high-level abstractions, C acts as a lower level language and thus embraces pagination APIs provided by the service.  You should work within the confines of the paging system provided by the service.</p>

<p><a href="#cpp-design-logical-client-pagination-use-paging" name="cpp-design-logical-client-pagination-use-paging" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  export the same paging API as the service provides.</p>

<p><a href="#cpp-design-logical-client-pagination-cpp-last-page" name="cpp-design-logical-client-pagination-cpp-last-page" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  indicate in the return type if the consumer has reached the end of the result set.</p>

<p><a href="#cpp-design-logical-client-pagination-size-of-page" name="cpp-design-logical-client-pagination-size-of-page" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  indicate in the return type how many items were returned by the service, and have a list of those items for the consumer to iterate over.</p>

<h4 id="cpp-longrunning">Methods Invoking Long Running Operations</h4>

<p>Some service operations, known as <em>Long Running Operations</em> or <em>LROs</em> take a long time (up to hours or days). Such operations do not return their result immediately, but rather are started, their progress is polled, and finally the result of the operation is retrieved.</p>

<p>Azure::Core library exposes an abstract type called <code class="language-plaintext highlighter-rouge">Operation&lt;T&gt;</code>, which represents such LROs and supports operations for polling and waiting for status changes, and retrieving the final operation result.  A service method invoking a long running operation will return a subclass of <code class="language-plaintext highlighter-rouge">Operation&lt;T&gt;</code>, as shown below.</p>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<p><a href="#cpp-lro-prefix" name="cpp-lro-prefix" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  name all methods that start an LRO with the <code class="language-plaintext highlighter-rouge">Start</code> prefix.</p>

<p><a href="#cpp-lro-return" name="cpp-lro-return" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  return a subclass of <code class="language-plaintext highlighter-rouge">Operation&lt;T&gt;</code> from LRO methods.</p>

<p><a href="#cpp-lro-subclass" name="cpp-lro-subclass" class="requirement" role="img" aria-label="YOU MAY">✔️</a> <strong>YOU MAY</strong>  add additional APIs to subclasses of <code class="language-plaintext highlighter-rouge">Operation&lt;T&gt;</code>.
For example, some subclasses add a constructor allowing to create an operation instance from a previously saved operation ID. Also, some subclasses are more granular states besides the <code class="language-plaintext highlighter-rouge">IsDone</code> and <code class="language-plaintext highlighter-rouge">HasValue</code> states that are present on the base class.</p>

<h5 id="conditional-request-methods">Conditional Request Methods</h5>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<h5 id="hierarchical-clients">Hierarchical Clients</h5>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<h3 id="supporting-types">Supporting Types</h3>

<p>In addition to service client types, Azure SDK APIs provide and use other supporting types as well.</p>

<h4 id="cpp-model-types">Model Types</h4>

<p>This section describes guidelines for the design <em>model types</em> and all their transitive closure of public dependencies (i.e. the <em>model graph</em>).  A model type is a representation of a REST service’s resource.</p>

<p><a href="#cpp-design-model-public-getters" name="cpp-design-model-public-getters" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  ensure model public properties are const if they aren’t intended to be changed by the user.</p>

<p>Most output-only models can be fully read-only. Models that are used as both outputs and inputs (i.e. received from and sent to the service) typically have a mixture of read-only and read-write properties.</p>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<h5 id="model-type-naming">Model Type Naming</h5>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<h4 id="enumerations">Enumerations</h4>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<p><a href="#cpp-design-enums" name="cpp-design-enums" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use an <code class="language-plaintext highlighter-rouge">enum</code> for parameters, properties, and return types when values are known.</p>

<p><a href="#cpp-design-enums-exception" name="cpp-design-enums-exception" class="requirement" role="img" aria-label="YOU MAY">✔️</a> <strong>YOU MAY</strong>  use a <code class="language-plaintext highlighter-rouge">struct</code> in place of an <code class="language-plaintext highlighter-rouge">enum class</code> that declares well-known fields but can contain unknown values returned from the service, or user-defined values passed to the service.</p>

<p>See <a href="/azure-sdk/cpp_implementation.html#cpp-enums">enumeration-like structure documentation</a> for implementation details.</p>

<h4 id="cpp-commontypes">Using Azure Core Types</h4>

<p>The <code class="language-plaintext highlighter-rouge">azure-core</code> package provides common functionality for client libraries.  Documentation and usage examples can be found in the <a href="https://github.com/Azure/azure-sdk-for-cpp/tree/main/sdk/core/azure-core">azure/azure-sdk-for-cpp</a> repository.</p>

<h4 id="using-primitive-types">Using Primitive Types</h4>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<p><a href="#cpp-primitives-etag" name="cpp-primitives-etag" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use <code class="language-plaintext highlighter-rouge">Azure::Core::ETag</code> to represent ETags.</p>

<p>The <code class="language-plaintext highlighter-rouge">Azure::Core::ETag</code> type is located in <code class="language-plaintext highlighter-rouge">azure-core</code> package.</p>

<p><a href="#cpp-primitives-uri" name="cpp-primitives-uri" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use <code class="language-plaintext highlighter-rouge">Azure::Core::Uri</code> to represent URIs.</p>

<p>The <code class="language-plaintext highlighter-rouge">Azure::Core::Uri</code> type is located in <code class="language-plaintext highlighter-rouge">azure-core</code> package.</p>

<h3 id="cpp-errors">Exceptions</h3>

<p>Error handling is an important aspect of implementing a client library. It is the primary method by which problems are communicated to the consumer. Because we intend for the C client libraries to be used on a wide range of devices with a wide range of reliability requirements, it’s important to provide robust error handling.</p>

<p>We distinguish between several different types of errors:</p>

<ul>
  <li>
    <dl>
      <dt>Exhaustion / Act of God</dt>
      <dd>errors like running out of stack space, or dealing with power failure that, in general, can not be anticipated and after which it may be hard to execute any more code, let alone recover. Code handling these errors needs to be written to <em>very</em> specific requirements, for example not doing any allocations and never growing the stack.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt>Pre-Conditions</dt>
      <dd>Pre-Condition errors occur when a caller violates the expectations of a function, for example by passing an out-of-range value or a null pointer. These are always avoidable by the direct caller, and will always require a source code change (by the caller) to fix.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt>Post-Conditions</dt>
      <dd>Post-Condition violations happen when some function didn’t do the correct thing, these are <em>always</em> bugs in the function itself, and users shouldn’t be expected to handle them.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt>Heap Exhaustion (Out of Memory)</dt>
      <dd>Running out of memory.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt>Recoverable Error</dt>
      <dd>Things like trying to open a file that doesn’t exist, or trying to write to a full disk. These kinds of errors can usually be handled by a function’s caller directly, and need to be considered by callers that want to be robust.</dd>
    </dl>
  </li>
</ul>

<p><strong>Exhaustion / Act of God</strong></p>

<p><a href="#cpp-design-logical-errorhandling-actofgod-no-return" name="cpp-design-logical-errorhandling-actofgod-no-return" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  return an error to the caller.</p>

<p><a href="#cpp-design-logical-errorhandling-actofgod-crash" name="cpp-design-logical-errorhandling-actofgod-crash" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  crash, if possible. This means calling some form of fast failing function, like <code class="language-plaintext highlighter-rouge">abort</code>.</p>

<p>Note: if your client library needs to be resilient to these kinds of errors you must either provide a fallback system, or construct your code in a way to facilitate proving that such errors can not occur.</p>

<p><strong>Pre-conditions</strong></p>

<p><a href="#cpp-design-logical-errorhandling-prec-check" name="cpp-design-logical-errorhandling-prec-check" class="requirement" role="img" aria-label="YOU MAY">✔️</a> <strong>YOU MAY</strong>  check preconditions on function entry.</p>

<p><a href="#cpp-design-logical-errorhandling-prec-disablecheck" name="cpp-design-logical-errorhandling-prec-disablecheck" class="requirement" role="img" aria-label="YOU MAY">✔️</a> <strong>YOU MAY</strong>  privide a means to disable precondition checks in release / optimized builds.</p>

<p><a href="#cpp-design-logical-errorhandling-prec-crash" name="cpp-design-logical-errorhandling-prec-crash" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  crash, if possible. This means calling some form of fast failing function, like <code class="language-plaintext highlighter-rouge">abort</code>.</p>

<p><a href="#cpp-design-logical-errorhandling-prec-exceptions" name="cpp-design-logical-errorhandling-prec-exceptions" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  throw a C++ exception.</p>

<p><strong>Post Conditions</strong></p>

<p><a href="#cpp-design-logical-errorhandling-postc-check" name="cpp-design-logical-errorhandling-postc-check" class="requirement" role="img" aria-label="YOU SHOULD NOT">⚠️</a> <strong>YOU SHOULD NOT</strong>  check post-conditions in a way that changes the computational complexity of the function.</p>

<p><a href="#cpp-design-logical-errorhandling-postc-disablecheck" name="cpp-design-logical-errorhandling-postc-disablecheck" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  provide a way to disable postcondition checks, and omit checking code from built binaries.</p>

<p><a href="#cpp-design-logical-errorhandling-postc-crash" name="cpp-design-logical-errorhandling-postc-crash" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  crash, if possible. This means calling some form of fast failing function, like <code class="language-plaintext highlighter-rouge">abort</code>.</p>

<p><a href="#cpp-design-logical-errorhandling-postc-exceptions" name="cpp-design-logical-errorhandling-postc-exceptions" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  throw a C++ exception.</p>

<p><strong>Heap Exhaustion (Out of Memory)</strong></p>

<p><a href="#cpp-design-logical-errorhandling-oom-crash" name="cpp-design-logical-errorhandling-oom-crash" class="requirement" role="img" aria-label="YOU MAY">✔️</a> <strong>YOU MAY</strong>  crash. For example, this may mean dereferencing a nullptr returned by malloc, or explicitly checking and calling abort.</p>

<p>Note that on some comonly deployed platforms like Linux, handling heap exhaustion from user mode is not possible in a default configuration.</p>

<p><a href="#cpp-design-logical-errorhandling-oom-bad-alloc" name="cpp-design-logical-errorhandling-oom-bad-alloc" class="requirement" role="img" aria-label="YOU MAY">✔️</a> <strong>YOU MAY</strong>  propagate a C++ exception of type <code class="language-plaintext highlighter-rouge">std::bad_alloc</code> when encountering an out of memory condition. We do not expect the program to continue in a recoverable state after this occurs. Note that most standard library facilities and the built in <code class="language-plaintext highlighter-rouge">operator new</code> do this automatically, and we want to allow use of other facilities that may throw here.</p>

<p><a href="#cpp-design-logical-errorhandling-oom-throw" name="cpp-design-logical-errorhandling-oom-throw" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  throw bad_alloc from the SDK code itself.</p>

<p><strong>Recoverable errors</strong></p>

<p><a href="#cpp-design-logical-errorhandling-recov-reporting" name="cpp-design-logical-errorhandling-recov-reporting" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  report errors by throwing C++ exceptions defined in the Azure C++ Core Library.</p>

<blockquote>
  <p>TODO: The Core library needs to provide exceptions for the common failure modes, e.g. the same values as <code class="language-plaintext highlighter-rouge">az_result</code> in the C SDK.</p>
</blockquote>

<p>For example:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">class</span> <span class="nc">Herd</span> <span class="p">{</span>
  <span class="kt">bool</span> <span class="n">m_hasShyCats</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">m_numCats</span><span class="p">;</span>
<span class="nl">public:</span>
  <span class="kt">void</span> <span class="n">CountCats</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span> <span class="n">cats</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">m_hasShyCats</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="n">std</span><span class="o">::</span><span class="n">runtime_error</span><span class="p">(</span><span class="s">"shy cats are not allowed"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="o">*</span><span class="n">cats</span> <span class="o">=</span> <span class="n">m_numCats</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span></code></pre></figure>

<p><a href="#cpp-design-logical-errorhandling-recov-error" name="cpp-design-logical-errorhandling-recov-error" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  produce a recoverable error when any HTTP request fails with an HTTP status code that is not defined by the service/Swagger as a successful status code.</p>

<p><a href="#cpp-design-logical-errorhandling-recov-document" name="cpp-design-logical-errorhandling-recov-document" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  document all exceptions each function and its transitive dependencies may throw, except for <code class="language-plaintext highlighter-rouge">std::bad_alloc</code>.</p>

<h4 id="c-exceptions">C++ Exceptions</h4>

<p><a href="#cpp-design-logical-errorhandling-exceptions-other" name="cpp-design-logical-errorhandling-exceptions-other" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  <code class="language-plaintext highlighter-rouge">throw</code> exceptions, except those from the Azure C++ Core library as described in the error handling section.</p>

<p><a href="#cpp-design-logical-errorhandling-exceptions" name="cpp-design-logical-errorhandling-exceptions" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  propagate exceptions thrown by user code, callbacks, or dependencies. Assume any user-provided callback will propagate C++ exceptions unless the SDK documents that the callback must be completely non-throwing.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">Callback</span><span class="p">&gt;</span>
<span class="kt">void</span> <span class="nf">ApiFunc</span><span class="p">(</span><span class="k">const</span> <span class="n">Callback</span><span class="o">&amp;</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// best</span>
    <span class="n">c</span><span class="p">();</span>

    <span class="c1">// allowed, but results in a less pretty debugging experience for customers</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">c</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(...)</span> <span class="p">{</span>
        <span class="c1">// clean up</span>
        <span class="k">throw</span><span class="p">;</span> <span class="c1">// throw; rethrows the original exception object</span>
    <span class="p">}</span>

    <span class="c1">// prohibited</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">c</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(...)</span> <span class="p">{</span>
        <span class="c1">// missing throw;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h3 id="cpp-authentication">Authentication</h3>

<p>Azure services use a variety of different authentication schemes to allow clients to access the service. Conceptually, there are two entities responsible in this process: a credential and an authentication policy.  Credentials provide confidential authentication data.  Authentication policies use the data provided by a credential to authenticate requests to the service.</p>

<p><a href="#cpp-design-logical-client-support-all-auth-techniques" name="cpp-design-logical-client-support-all-auth-techniques" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  support all authentication techniques that the service supports and are available to a client application (as opposed to service side).  C is used only for client applications when talking to Azure, so some authentication techniques may not be valid.</p>

<p><a href="#cpp-design-logical-client-use-azure-core" name="cpp-design-logical-client-use-azure-core" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use credential and authentication policy implementations from the Azure Core library where available.</p>

<p><a href="#cpp-design-logical-client-prefer-token-auth" name="cpp-design-logical-client-prefer-token-auth" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  provide credential types that can be used to fetch all data needed to authenticate a request to the service in a non-blocking atomic manner for each authentication scheme that does not have an implementation in Azure Core.</p>

<p><a href="#cpp-apisurface-auth-in-constructors" name="cpp-apisurface-auth-in-constructors" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  provide service client constructors or factories that accept any supported authentication credentials.</p>

<p><a href="#cpp-design-logical-client-surface-no-connection-strings" name="cpp-design-logical-client-surface-no-connection-strings" class="requirement" role="img" aria-label="YOU SHOULD NOT">⚠️</a> <strong>YOU SHOULD NOT</strong>  support providing credential data via a connection string. Connection string interfaces should be provided <strong>ONLY IF</strong> the service provides a connection string to users via the portal or other tooling.</p>

<p><a href="#cpp-design-logical-client-surface-no-connection-string-ctors" name="cpp-design-logical-client-surface-no-connection-string-ctors" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  support constructing a service client with a connection string unless such connection string. Provide a <code class="language-plaintext highlighter-rouge">CreateFromConnectionString</code> static member function which returns a client instead to encourage customers to choose non-connection-string-based authentication.</p>

<p>When implementing authentication, don’t open up the consumer to security holes like PII (personally identifiable information) leakage or credential leakage.  Credentials are generally issued with a time limit, and must be refreshed periodically to ensure that the service connection continues to function as expected.  Ensure your client library follows all current security recommendations and consider an independent security review of the client library to ensure you’re not introducing potential security problems for the consumer.</p>

<p><a href="#cpp-implementing-no-persistence-auth" name="cpp-implementing-no-persistence-auth" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong> 
persist, cache, or reuse security credentials.  Security credentials should be considered short lived to cover both security concerns and credential refresh situations.</p>

<p>If your service implements a non-standard credential system (one that is not supported by Azure Core), then you need to produce an authentication policy for the HTTP pipeline that can authenticate requests given the alternative credential types provided by the client library.</p>

<p><a href="#cpp-implementing-secure-auth-erase" name="cpp-implementing-secure-auth-erase" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  Use a “secure” function to zero authentication or authorization credentials as soon as possible once they are no longer needed. Examples of such functions
include: <code class="language-plaintext highlighter-rouge">SecureZeroMemory</code>, <code class="language-plaintext highlighter-rouge">memset_s</code>, and <code class="language-plaintext highlighter-rouge">explicit_bzero</code>. Examples of insecure functions include <code class="language-plaintext highlighter-rouge">memset</code>. An optimizer may notice that the credentials are
never accessed again, and optimize away the call to <code class="language-plaintext highlighter-rouge">memset</code>, resulting in the credentials remaining in memory.</p>

<p><a href="#cpp-implementing-auth-policy" name="cpp-implementing-auth-policy" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong> 
provide a suitable authentication policy that authenticates the HTTP request in the HTTP pipeline when using non-standard credentials.  This includes custom connection strings, if supported.</p>

<h3 id="cpp-namespace-naming">Namespaces</h3>

<p>Grouping services within a cloud infrastructure is common since it aids discoverability and provides structure to the reference documentation.</p>

<p><a href="#cpp-design-naming-namespaces" name="cpp-design-naming-namespaces" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  name namespaces using <strong>PascalCase</strong>.</p>

<p><a href="#cpp-design-naming-namespaces-hierarchy" name="cpp-design-naming-namespaces-hierarchy" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use a root namespace of the form <code class="language-plaintext highlighter-rouge">Azure::&lt;Group&gt;::&lt;Service&gt;[::&lt;Feature&gt;]</code>.</p>

<p>For example, <code class="language-plaintext highlighter-rouge">Azure::Storage::Blobs</code> or <code class="language-plaintext highlighter-rouge">Azure::Storage::Files::Shares</code></p>

<p><a href="#cpp-namespaces-approved-list" name="cpp-namespaces-approved-list" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use one of the following pre-approved namespace groups:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Azure::AI</code> for artificial intelligence, including machine learning</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Analytics</code> for client libraries that gather or process analytics data</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Communication</code> communication services</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Core</code> for libraries that aren’t service specific</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Cosmos</code> for object database technologies</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Data</code> for client libraries that handle databases or structured data stores</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::DigitalTwins</code> for DigitalTwins related technologies</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Identity</code> for authentication and authorization client libraries</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::IoT</code> for client libraries dealing with the Internet of Things.
    <ul>
      <li>Use <code class="language-plaintext highlighter-rouge">Iot</code> for Pascal cased compound words, such as <code class="language-plaintext highlighter-rouge">IotClient</code>, otherwise follow language conventions.</li>
      <li>Do not use <code class="language-plaintext highlighter-rouge">IoT</code> more than once in a namespace.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Management</code> for client libraries accessing the control plane (Azure Resource Manager)</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Media</code> for client libraries that deal with audio, video, or mixed reality</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Messaging</code> for client libraries that provide messaging services, such as push notifications or pub-sub.</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Search</code> for search technologies</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Security</code> for client libraries dealing with security</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Storage</code> for client libraries that handle unstructured data</li>
</ul>

<p>If you think a new group should be added to the list, contact [adparch].</p>

<p><a href="#general-namespaces-shortened-name" name="general-namespaces-shortened-name" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  pick a shortened service name that allows the consumer to tie the package to the service being used.  As a default, use the compressed service name.  The namespace does <strong>NOT</strong> change when the branding of the product changes, so avoid the use of marketing names that may change.</p>

<p>A compressed service name is the service name without spaces.  It may further be shortened if the shortened version is well known in the community.  For example, “Azure Media Analytics” would have a compressed service name of <code class="language-plaintext highlighter-rouge">MediaAnalytics</code>, whereas “Azure Service Bus” would become <code class="language-plaintext highlighter-rouge">ServiceBus</code>.</p>

<p><a href="#general-namespaces-approved-list" name="general-namespaces-approved-list" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use the following list as the group of services:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Namespace Group</th>
      <th style="text-align: left">Functional Area</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">AI</code></td>
      <td style="text-align: left">Artificial intelligence, including machine learning</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Analytics</code></td>
      <td style="text-align: left">Gathering data for metrics or usage</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Data</code></td>
      <td style="text-align: left">Dealing with structured data stores like databases</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Diagnostics</code></td>
      <td style="text-align: left">Gathering data for diagnosing issues</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">DigitalTwins</code></td>
      <td style="text-align: left">Digital Twins, digital representations of physical spaces and IoT devices</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Identity</code></td>
      <td style="text-align: left">Authentication and authorization</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">IoT</code></td>
      <td style="text-align: left">Internet of Things</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Management</code></td>
      <td style="text-align: left">Control Plane (Azure Resource Manager)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Media</code></td>
      <td style="text-align: left">Audio, video, or mixed reality</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Messaging</code></td>
      <td style="text-align: left">Messaging services, like push notifications or pub-sub</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Search</code></td>
      <td style="text-align: left">Search technologies</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Security</code></td>
      <td style="text-align: left">Security and cryptography</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Storage</code></td>
      <td style="text-align: left">Storage of unstructured data</td>
    </tr>
  </tbody>
</table>

<p>If the client library does not seem to fit into the group list, contact the <a href="https://github.com/azure/azure-sdk/issues">Architecture Board</a> to discuss the namespace requirements.</p>

<p><a href="#general-namespaces-mgmt" name="general-namespaces-mgmt" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  place the management (Azure Resource Manager) API in the <code class="language-plaintext highlighter-rouge">Management</code> group.  Use the grouping <code class="language-plaintext highlighter-rouge">Azure::Management::&lt;Group&gt;::&lt;Service&gt;</code> for the namespace. Since more services require control plane APIs than data plane APIs, other namespaces may be used explicitly for control plane only.  Data plane usage is by exception only.  Additional namespaces that can be used for control plane SDKs include:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Namespace Group</th>
      <th style="text-align: left">Functional Area</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Appmodel</code></td>
      <td style="text-align: left">Application models, such as Functions or App Frameworks</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Compute</code></td>
      <td style="text-align: left">Virtual machines, containers, and other compute services</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Integration</code></td>
      <td style="text-align: left">Integration services (such as Logic Apps)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Management</code></td>
      <td style="text-align: left">Management services (such as Cost Analytics)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Networking</code></td>
      <td style="text-align: left">Services such as VPN, WAN, and Networking</td>
    </tr>
  </tbody>
</table>

<p>Many <code class="language-plaintext highlighter-rouge">management</code> APIs do not have a data plane because they deal with management of the Azure account. Place the management library in the <code class="language-plaintext highlighter-rouge">Azure::Management</code> namespace.  For example, use <code class="language-plaintext highlighter-rouge">Azure::Management::CostAnalysis</code> instead of <code class="language-plaintext highlighter-rouge">Azure::Management::Management::CostAnalysis</code>.</p>

<p><a href="#general-namespaces-similar-names" name="general-namespaces-similar-names" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  choose similar names for clients that do different things.</p>

<p><a href="#general-namespaces-registration" name="general-namespaces-registration" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  register the chosen namespace with the <a href="https://github.com/azure/azure-sdk/issues">Architecture Board</a>.  Open an issue to request the namespace.  See <a href="registered_namespaces.html">the registered namespace list</a> for a list of the currently registered namespaces.</p>

<p><a href="#cpp-design-naming-namespaces-details" name="cpp-design-naming-namespaces-details" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  place private implementation details in a <code class="language-plaintext highlighter-rouge">_detail</code> namespace.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">namespace</span> <span class="n">Azure</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">Group</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">Service</span> <span class="p">{</span>
<span class="k">namespace</span> <span class="n">_detail</span> <span class="p">{</span>
<span class="c1">// Part of the private API</span>
<span class="k">struct</span> <span class="nc">HashComputation</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">InternalBookkeeping</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">g_privateConstant</span> <span class="o">=</span> <span class="mi">1729</span><span class="p">;</span>
<span class="p">}</span> <span class="c1">// namespace _detail</span>

<span class="c1">// Part of the public API</span>
<span class="k">struct</span> <span class="nc">UploadBlobRequest</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">char</span><span class="o">*</span> <span class="n">Data</span><span class="p">;</span>
    <span class="kt">size_t</span> <span class="n">DataLength</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Bad - private API in public namespace.</span>
<span class="k">struct</span> <span class="nc">HashComputation</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">InternalBookkeeping</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">g_privateConstant</span> <span class="o">=</span> <span class="mi">1729</span><span class="p">;</span>
<span class="p">}}}</span> <span class="c1">// namespace Azure::Group::Service</span></code></pre></figure>

<p><strong>Example Namespaces</strong></p>

<p>Here are some examples of namespaces that meet these guidelines:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Azure::Data::Cosmos</code></li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Identity::ActiveDirectory</code></li>
  <li><code class="language-plaintext highlighter-rouge">Azure::IoT::DeviceProvisioning</code></li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Storage::Blobs</code></li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Messaging::NotificationHubs</code> (the client library for Notification Hubs)</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::Management::Messaging::NotificationHubs</code> (the management library for Notification Hubs)</li>
</ul>

<p>Here are some namespaces that do not meet the guidelines:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">microsoft::azure::CosmosDB</code> (not in the <code class="language-plaintext highlighter-rouge">Azure</code> namespace and does not use grouping, uses lowercase letters)</li>
  <li><code class="language-plaintext highlighter-rouge">azure::mixed_reality::kinect</code> (the grouping is not in the approved list and uses snake_case)</li>
  <li><code class="language-plaintext highlighter-rouge">Azure::IoT::IoTHub::DeviceProvisioning</code> (too many levels in the group)</li>
</ul>

<h3 id="cpp-mocking">Support for Mocking</h3>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<h2 id="azure-sdk-library-design">Azure SDK Library Design</h2>

<h3 id="cpp-packaging">Packaging</h3>

<p><a href="#cpp-package-dynamic" name="cpp-package-dynamic" class="requirement" role="img" aria-label="YOU SHOULD">☑️</a> <strong>YOU SHOULD</strong>  provide both dynamic and static linking options for your library.  Each has its own merits and use cases.</p>

<p><a href="#cpp-package-source" name="cpp-package-source" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  publish your package in source code format.  Due to differences in platforms, this is the most common publishing mechanism for C libraries.</p>

<p><a href="#cpp-package-vcpkg" name="cpp-package-vcpkg" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  publish your package to <a href="https://github.com/Microsoft/vcpkg">vcpkg</a>, a C++ library manager supporting Windows, Linux, and MacOS.</p>

<h4 id="common-libraries">Common Libraries</h4>

<blockquote>
  <p>TODO: This section needs to be driven by code in the Core library.</p>
</blockquote>

<h3 id="cpp-versioning">Versioning</h3>

<h4 id="client-versions">Client Versions</h4>

<p><a href="#cpp-versioning-backwards-compatibility" name="cpp-versioning-backwards-compatibility" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  be 100% backwards compatible with older versions of the same package.</p>

<p><a href="#cpp-versioning-new-package" name="cpp-versioning-new-package" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  introduce a new package (with new assembly names, new namespace names, and new type names) if you must do an API breaking change.</p>

<p>Breaking changes should happen rarely, if ever.  Register your intent to do a breaking change with [adparch]. You’ll need to have a discussion with the language architect before approval.</p>

<h5 id="cpp-versionnumbers">Package Version Numbers</h5>

<p>Consistent version number scheme allows consumers to determine what to expect from a new version of the library.</p>

<p><a href="#cpp-version-semver" name="cpp-version-semver" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use <em>MAJOR</em>.<em>MINOR</em>.<em>PATCH</em> format for the version of the library dll and the NuGet package.</p>

<p>Use <em>-beta._N</em> suffix for beta package versions. For example, <em>1.0.0-beta.2</em>.</p>

<p><a href="#cpp-version-change-on-release" name="cpp-version-change-on-release" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  change the version number of the client library when <strong>ANYTHING</strong> changes in the client library.</p>

<p><a href="#cpp-version-patching" name="cpp-version-patching" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  increment the patch version when fixing a bug.</p>

<p><a href="#cpp-version-features-in-patch" name="cpp-version-features-in-patch" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  include new APIs in a patch release.</p>

<p><a href="#cpp-version-add-feature" name="cpp-version-add-feature" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  increment the major or minor version when adding support for a service API version.</p>

<p><a href="#cpp-version-add-api" name="cpp-version-add-api" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  increment the major or minor version when adding a new method to the public API.</p>

<p><a href="#cpp-version-major-changes" name="cpp-version-major-changes" class="requirement" role="img" aria-label="YOU SHOULD">☑️</a> <strong>YOU SHOULD</strong>  increment the major version when making large feature changes.</p>

<p><a href="#cpp-version-change-on-release" name="cpp-version-change-on-release" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  select a version number greater than the highest version number of any other released Track 1 package for the service in any other scope or language.</p>

<h3 id="cpp-dependencies">Dependencies</h3>

<p>Dependencies bring in many considerations that are often easily avoided by avoiding the
dependency.</p>

<ul>
  <li><strong>Versioning</strong> - Many programming languages do not allow a consumer to load multiple versions of the same package. So, if we have an client library that requires v3 of package Foo and the consumer wants to use v5 of package Foo, then the consumer cannot build their application. This means that client libraries should not have dependencies by default.</li>
  <li><strong>Size</strong> - Consumer applications must be able to deploy as fast as possible into the cloud and move in various ways across networks. Removing additional code (like dependencies) improves deployment performance.</li>
  <li><strong>Licensing</strong> - You must be conscious of the licensing restrictions of a dependency and often provide proper attribution and notices when using them.</li>
  <li><strong>Compatibility</strong> - Often times you do not control a dependency and it may choose to evolve in a direction that is incompatible with your original use.</li>
  <li><strong>Security</strong> - If a security vulnerability is discovered in a dependency, it may be difficult or time consuming to get the vulnerability corrected if Microsoft does not control the dependencies code base.</li>
</ul>

<p><a href="#cpp-dependencies-stdlibcpp" name="cpp-dependencies-stdlibcpp" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use the <a href="https://en.cppreference.com/w/">C++ standard library</a>.</p>

<p><a href="#cpp-dependencies-azure-core" name="cpp-dependencies-azure-core" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  depend on the Azure Core library for functionality that is common across all client libraries.  This library includes APIs for HTTP connectivity, global configuration, and credential handling.</p>

<p><a href="#cpp-dependencies-approved-only" name="cpp-dependencies-approved-only" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  be dependent on any other packages within the client library distribution package. Dependencies are by-exception and need a thorough vetting through architecture review.  This does not apply to build dependencies, which are acceptable and commonly used.</p>

<p><a href="#cpp-dependencies-vendoring" name="cpp-dependencies-vendoring" class="requirement" role="img" aria-label="YOU SHOULD">☑️</a> <strong>YOU SHOULD</strong>  consider copying or linking required code into the client library in order to avoid taking a dependency on another package that could conflict with the ecosystem. Make sure that you are not violating any licensing agreements and consider the maintenance that will be required of the duplicated code. <a href="https://www.youtube.com/watch?v=PAAkCSZUG1c&amp;t=9m28s">“A little copying is better than a little dependency”</a> (YouTube).</p>

<p><a href="#cpp-dependencies-concrete" name="cpp-dependencies-concrete" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  depend on concrete logging, dependency injection, or configuration technologies (except as implemented in the Azure Core library).  The client library will be used in applications that might be using the logging, DI, and configuration technologies of their choice.</p>

<h3 id="cpp-documentation">Documentation Comments</h3>

<p><a href="#cpp-docs-document-everything" name="cpp-docs-document-everything" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  document every exposed (public or protected) type and member within your library’s code.</p>

<p><a href="#cpp-docs-docstrings" name="cpp-docs-docstrings" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use <a href="http://www.doxygen.nl/index.html">doxygen</a> comments for reference documentation.</p>

<p>See the <a href="/azure-sdk/general_documentation.html">documentation guidelines</a> for language-independent guidelines for how to provide good documentation.</p>

<h2 id="cpp-repository">Repository Guidelines</h2>

<p><a href="#cpp-general-repository" name="cpp-general-repository" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  locate all source code and README in the [azure/azure-sdk-for-cpp] GitHub repository.</p>

<p><a href="#cpp-general-engsys" name="cpp-general-engsys" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  follow Azure SDK engineering systems guidelines for working in the [azure/azure-sdk-for-cpp] GitHub repository.</p>

<blockquote>
  <p>TODO: Content in this section below here should be moved to a better location.</p>
</blockquote>

<p><a href="#cpp-style-clang-format" name="cpp-style-clang-format" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  format your source code with <code class="language-plaintext highlighter-rouge">clang-format</code>, using the configuration file located in <a href="https://github.com/Azure/azure-sdk-for-cpp/blob/main/.clang-format">the azure-sdk-for-cpp repo</a>.</p>

<p><a href="#cpp-style-filenaming" name="cpp-style-filenaming" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  name all files as lowercase, in a directory of the service short name. Separate words with underscores, and end with the appropriate extension (<code class="language-plaintext highlighter-rouge">.cpp</code> or <code class="language-plaintext highlighter-rouge">.hpp</code>). For example, <code class="language-plaintext highlighter-rouge">iot_credential.cpp</code> is valid, while <code class="language-plaintext highlighter-rouge">IoTCredential.cl</code> is not.</p>

<p><a href="#cpp-style-privateapi-hdr" name="cpp-style-privateapi-hdr" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  place an include file that is not part of the public API in an <code class="language-plaintext highlighter-rouge">internal</code> directory.  Do not include the service short name.  For example, <code class="language-plaintext highlighter-rouge">&lt;azure/internal/credential.hpp&gt;</code>.</p>

<p><a href="#cpp-style-filenames" name="cpp-style-filenames" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use characters in the range <code class="language-plaintext highlighter-rouge">[a-z0-9_]</code> for the name portion (before the file extension).  No other characters are permitted.</p>

<p>Filenames should be concise, but convey what role the file plays within the library.</p>

<p><a href="#cpp-style-headerguards" name="cpp-style-headerguards" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use <code class="language-plaintext highlighter-rouge">#pragma once</code></p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#pragma once
</span>
<span class="c1">// Contents of a given header</span></code></pre></figure>

<p><a href="#cpp-style-whole-sdk-header" name="cpp-style-whole-sdk-header" class="requirement" role="img" aria-label="YOU MAY">✔️</a> <strong>YOU MAY</strong>  have a header file that includes an entire client library. For example, <code class="language-plaintext highlighter-rouge">&lt;azure/speech.hpp&gt;</code>.</p>

<p><a href="#cpp-style-sub-sdk-header" name="cpp-style-sub-sdk-header" class="requirement" role="img" aria-label="YOU SHOULD">☑️</a> <strong>YOU SHOULD</strong>  have headers for smaller components that make sense to be used together. For example, <code class="language-plaintext highlighter-rouge">&lt;azure/speech/translation.hpp&gt;</code>.</p>

<p><a href="#cpp-style-change-headers" name="cpp-style-change-headers" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  substantially change the names exposed by the header in response to macros or other controls. For example, <code class="language-plaintext highlighter-rouge">NOMINMAX</code> or <code class="language-plaintext highlighter-rouge">WIN32_LEAN_AND_MEAN</code> from <code class="language-plaintext highlighter-rouge">&lt;Windows.h&gt;</code>.</p>

<h3 id="documentation-style">Documentation Style</h3>

<p>There are several documentation deliverables that must be included in or as a companion to your client library. Beyond complete and helpful API documentation within the code itself (docstrings), you need a great README and other supporting documentation.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">README.md</code> - Resides in the root of your library’s directory within the SDK repository; includes package installation and client library usage information. (<a href="https://github.com/Azure/azure-sdk/blob/main/docs/policies/README-EXAMPLE.md">example</a>)</li>
  <li><code class="language-plaintext highlighter-rouge">API reference</code> - Generated from the docstrings in your code; published on docs.microsoft.com.</li>
  <li><code class="language-plaintext highlighter-rouge">Code snippets</code> - Short code examples that demonstrate single (atomic) operations for the champion scenarios you’ve identified for your library; included in your README, docstrings, and Quickstart.</li>
  <li><code class="language-plaintext highlighter-rouge">Quickstart</code> - Article on docs.microsoft.com that is similar to but expands on the README content; typically written by your service’s content developer.</li>
  <li><code class="language-plaintext highlighter-rouge">Conceptual</code> - Long-form documentation like Quickstarts, Tutorials, How-to guides, and other content on docs.microsoft.com; typically written by your service’s content developer.</li>
</ul>

<p><a href="#cpp-docs-contentdev" name="cpp-docs-contentdev" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  include your service’s content developer in the Architecture Board review for your library. To find the content developer you should work with, check with your team’s Program Manager.</p>

<p><a href="#cpp-docs-contributors-guide" name="cpp-docs-contributors-guide" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  follow the <a href="https://review.docs.microsoft.com/help/contribute-ref/contribute-ref-how-to-document-sdk">Azure SDK Contributors Guide</a>. (MICROSOFT INTERNAL)</p>

<p><a href="#cpp-docs-style-guide" name="cpp-docs-style-guide" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  adhere to the specifications set forth in the Microsoft style guides when you write public-facing documentation. This applies to both long-form documentation like a README and the docstrings in your code. (MICROSOFT INTERNAL)</p>

<ul>
  <li><a href="https://styleguides.azurewebsites.net/StyleGuide/Read?id=2700">Microsoft Writing Style Guide</a>.</li>
  <li><a href="https://styleguides.azurewebsites.net/Styleguide/Read?id=2696">Microsoft Cloud Style Guide</a>.</li>
</ul>

<p><a href="#cpp-docs-to-silence" name="cpp-docs-to-silence" class="requirement" role="img" aria-label="YOU SHOULD">☑️</a> <strong>YOU SHOULD</strong>  attempt to document your library into silence. Preempt developers’ usage questions and minimize GitHub issues by clearly explaining your API in the docstrings. Include information on service limits and errors they might hit, and how to avoid and recover from those errors.</p>

<p>As you write your code, <em>doc it so you never hear about it again.</em> The less questions you have to answer about your client library, the more time you have to build new features for your service.</p>

<p><strong>Docstrings</strong></p>

<p><a href="#cpp-docs-doxygen" name="cpp-docs-doxygen" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  include docstrings compatible with the <a href="http://www.doxygen.nl/index.html">doxygen</a> tool for generating reference documentation.</p>

<p>For example, a (very) simple docstring might look like:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cm">/**
 *   @class client
 *   @brief The client represents the resources required for a connection to an Azure AppcConfiguration resource.
 */</span></code></pre></figure>

<p><a href="#cpp-docs-doxygen-cmd" name="cpp-docs-doxygen-cmd" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use doxygen’s <code class="language-plaintext highlighter-rouge">@cmd</code> style docstrings</p>

<p><a href="#cpp-docs-doxygen-params" name="cpp-docs-doxygen-params" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  format parameter documentation like the following:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cm">/* &lt;....documentation....&gt;
* @param[&lt;direction&gt;] &lt;param_name&gt; description
* &lt;....documentation....&gt;
*/</span></code></pre></figure>

<p>For example:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">namespace</span> <span class="n">azure</span><span class="o">::</span><span class="n">storage</span><span class="o">::</span><span class="n">blob</span> <span class="p">{</span>
<span class="cm">/**
 * @brief execute a blocking get request
 *
 * @param[in] client
 * @param[in] path_and_query The query to execute relative to the base url of the client
 * @param[out] result
 * @param[out] result_sz size of the result
 */</span>
<span class="kt">void</span> <span class="n">req_get</span><span class="p">(</span><span class="n">client</span><span class="o">*</span> <span class="n">client</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">path_and_query</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span><span class="o">**</span> <span class="n">result</span><span class="p">,</span> <span class="kt">size_t</span><span class="o">*</span> <span class="n">result_sz</span><span class="p">);</span>
<span class="p">}</span> <span class="c1">// namespace azure::storage::blob</span></code></pre></figure>

<p><a href="#cpp-docs-doxygen-nullable" name="cpp-docs-doxygen-nullable" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  document what happens to parameters that are set to null.</p>

<p>For example:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">namespace</span> <span class="n">azure</span><span class="o">::</span><span class="n">animals</span><span class="o">::</span><span class="n">cats</span> <span class="p">{</span>
<span class="cm">/**
 * @brief get properties of a cat (e.g. hair color, weight, floof)
 *
 * @param[in] our_cat the cat to operate on
 * @param[out] props pointer to an array of num_props, or null
 * @param[in,out] num_props pointer to the number of properties to retrieve or to a location to store the number of
 *                          properties queried as described below
 *
 * If @p props is NULL then return the number of properties available in @p num_props,
 * otherwise return @p num_props into the array at @p props
 */</span>
<span class="kt">void</span> <span class="n">get_cat_properties</span><span class="p">(</span><span class="n">cat</span><span class="o">*</span> <span class="n">our_cat</span><span class="p">,</span> <span class="n">cat_properties</span><span class="o">*</span> <span class="n">props</span><span class="p">,</span> <span class="kt">size_t</span><span class="o">*</span> <span class="n">num_props</span><span class="p">);</span>
<span class="p">}</span> <span class="c1">// namespace azure::animals::cats</span></code></pre></figure>

<p><a href="#cpp-docs-doxygen-failure" name="cpp-docs-doxygen-failure" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  document which exceptions your function can propagate.</p>

<p><strong>Code snippets</strong></p>

<p><a href="#cpp-docs-include-snippets" name="cpp-docs-include-snippets" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  include example code snippets alongside your library’s code within the repository. The snippets should clearly and succinctly demonstrate the operations most developers need to perform with your library. Include snippets for every common operation, and especially for those that are complex or might otherwise be difficult for new users of your library. At a bare minimum, include snippets for the champion scenarios you’ve identified for the library.</p>

<p><a href="#cpp-docs-build-snippets" name="cpp-docs-build-snippets" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  build and test your example code snippets using the repository’s continuous integration (CI) to ensure they remain functional.</p>

<p><a href="#cpp-docs-snippets-in-docstrings" name="cpp-docs-snippets-in-docstrings" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  include the example code snippets in your library’s docstrings so they appear in its API reference. If the language and its tools support it, ingest these snippets directly into the API reference from within the docstrings.</p>

<p>For example, consider a function called <code class="language-plaintext highlighter-rouge">do_something_or_other</code>:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">namespace</span> <span class="n">azure</span><span class="o">::</span><span class="n">sdks</span><span class="o">::</span><span class="n">example</span> <span class="p">{</span>
<span class="cm">/**
 * @brief some class type
 */</span>
<span class="k">struct</span> <span class="nc">some_class</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">member</span><span class="p">;</span>

    <span class="cm">/**
    * @brief do something, or maybe do some other thing
    */</span>
    <span class="kt">void</span> <span class="n">do_something_or_other</span><span class="p">();</span>
<span class="p">};</span>
<span class="p">}</span> <span class="c1">// azure::sdks::example</span></code></pre></figure>

<p>It can be used as follows:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cm">/**
 * @example example_1.cpp
 */</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">using</span> <span class="n">azure</span><span class="o">::</span><span class="n">sdks</span><span class="o">::</span><span class="n">example</span><span class="o">::</span><span class="n">some_class</span><span class="p">;</span>
    <span class="n">some_class</span> <span class="n">a</span><span class="p">;</span>
    <span class="n">a</span><span class="p">.</span><span class="n">do_something_or_other</span><span class="p">();</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>When doxygen processes these files, it will see the <code class="language-plaintext highlighter-rouge">@example</code> command in example_1.cpp and
add it to the “examples” section of the documentation, it will also see the usage of
<code class="language-plaintext highlighter-rouge">some_struct</code> in the example and add a link from the documentation of <code class="language-plaintext highlighter-rouge">some_struct</code> to the
documentation (including source code) for <code class="language-plaintext highlighter-rouge">example_1.cpp</code>.</p>

<p>Use <code class="language-plaintext highlighter-rouge">@include</code> or <code class="language-plaintext highlighter-rouge">@snippet</code> to include examples directly in the documentation for a function or structure.
For example:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="c1">//</span>
<span class="c1">// @brief some structure type</span>
<span class="c1">//</span>
<span class="k">struct</span> <span class="nc">some_struct</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">member</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">//</span>
<span class="c1">// @brief do something, or maybe do some other thing</span>
<span class="c1">// see @snippet example_1.cpp use some_struct</span>
<span class="c1">//</span>
<span class="kt">void</span> <span class="nf">do_something_or_other</span><span class="p">(</span><span class="n">some_struct</span><span class="o">*</span> <span class="n">s</span><span class="p">);</span></code></pre></figure>

<p>It can be used as follows:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cm">/**
 * @example example_1.cpp
 */</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="cm">/** [use some_struct] */</span>
    <span class="n">some_struct</span> <span class="n">a</span><span class="p">;</span>
    <span class="n">do_something_or_other</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">);</span>
    <span class="cm">/** [use some_struct] */</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>Note that automatic links from documentation to examples will only be generated in struct documentation,
not in function documentation. To generate a link from a function’s documentation to an example use <code class="language-plaintext highlighter-rouge">@dontinclude</code>. For example:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cm">/**
 * @brief do something, or maybe do some other thing
 * @dontinclude example_1.cpp
 */</span>
<span class="kt">void</span> <span class="nf">do_something_or_other</span><span class="p">(</span><span class="k">const</span> <span class="n">some_struct</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">);</span></code></pre></figure>

<p><a href="#cpp-docs-operation-combinations" name="cpp-docs-operation-combinations" class="requirement" role="img" aria-label="DO NOT">⛔️</a> <strong>DO NOT</strong>  combine more than one operation in a code snippet unless it’s required for demonstrating the type or member, or it’s <em>in addition to</em> existing snippets that demonstrate atomic operations. For example, a Cosmos DB code snippet should not include both account and container creation operations–create two different snippets, one for account creation, and one for container creation.</p>

<p>Combined operations cause unnecessary friction for a library consumer by requiring knowledge of additional operations which might be outside their current focus. It requires them to first understand the tangential code surrounding the operation they’re working on, then carefully extract just the code they need for their task. The developer can no longer simply copy and paste the code snippet into their project.</p>

<p><strong>Buildsystem integration</strong></p>

<p><a href="#cpp-docs-buildsystem" name="cpp-docs-buildsystem" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  Provide a buildsystem target called “docs” to build
    the documentation</p>

<p><a href="#cpp-docs-buildsystem-option" name="cpp-docs-buildsystem-option" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  Provide an option <code class="language-plaintext highlighter-rouge">BUILD_DOCS</code> to control
    building of the docs, this should default to <code class="language-plaintext highlighter-rouge">OFF</code></p>

<p>To provide this you can use the CMake <code class="language-plaintext highlighter-rouge">FindDoxygen</code> module as follows:</p>

<figure class="highlight"><pre><code class="language-cmake" data-lang="cmake"><span class="nb">option</span><span class="p">(</span>BUILD_DOCS <span class="s2">"Build documentation"</span> OFF<span class="p">)</span>
<span class="nb">if</span><span class="p">(</span>BUILD_DOCS<span class="p">)</span>
    <span class="nb">find_package</span><span class="p">(</span>Doxygen REQUIRED doxygen<span class="p">)</span>

    <span class="c1"># note: DOXYGEN_ options are strings to cmake, not</span>
    <span class="c1"># booleans, thus use only YES and NO</span>
    <span class="nb">set</span><span class="p">(</span>DOXYGEN_GENERATE_XML YES<span class="p">)</span>
    <span class="nb">set</span><span class="p">(</span>DOXYGEN_GENERATE_HTML YES<span class="p">)</span>

    <span class="nb">set</span><span class="p">(</span>DOXYGEN_EXTRACT_PACKAGE YES<span class="p">)</span>
    <span class="nb">set</span><span class="p">(</span>DOXYGEN_INLINE_SIMPLE_STRUCTS YES<span class="p">)</span>
    <span class="nb">set</span><span class="p">(</span>DOXYGEN_TYPEDEF_HIDES_STRUCT YES<span class="p">)</span>
    <span class="nf">doxygen_add_docs</span><span class="p">(</span>docs
        <span class="si">${</span><span class="nv">PROJECT_SOURCE_DIR</span><span class="si">}</span>/inc
        <span class="si">${</span><span class="nv">PROJECT_SOURCE_DIR</span><span class="si">}</span>/doc
        <span class="si">${</span><span class="nv">PROJECT_SOURCE_DIR</span><span class="si">}</span>/src
        COMMENT <span class="s2">"Generate Documentation"</span><span class="p">)</span>
<span class="nb">endif</span><span class="p">()</span></code></pre></figure>

<p><strong>Formatting</strong></p>

<p><a href="#cpp-format-cpp" name="cpp-format-cpp" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  use <a href="https://clang.llvm.org/docs/ClangFormat.html">cpp-format</a> for formatting your code. Use the <a href="https://github.com/Azure/azure-sdk-for-cpp/blob/main/.clang-format">.clang-format</a> options.</p>

<p>In general, cpp-format will format your code correctly and ensure consistency. However, these are few additional  rules to keep in mind.</p>

<p><a href="#cpp-format-cpp-loops" name="cpp-format-cpp-loops" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  place all conditional or loop statements on one line, or add braces to identify the conditional/looping block.</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="k">if</span> <span class="p">(</span><span class="n">meow</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="n">purr</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// OK</span>
<span class="k">if</span> <span class="p">(</span><span class="n">meow</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">purr</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// OK</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">meow</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">purr</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span> <span class="c1">// OK (although will probably be changed by cpp-format)</span>
<span class="k">if</span> <span class="p">(</span><span class="n">meow</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">purr</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// NOT OK</span></code></pre></figure>

<p><a href="#cpp-format-cpp-closing-braces" name="cpp-format-cpp-closing-braces" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  add comments to closing braces.  Adding a comment to closing braces can help when you are reading code because you don’t have to find the begin brace to know what is going on.</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">valid</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">...</span>
    <span class="p">}</span> <span class="cm">/* if valid */</span>
    <span class="k">else</span> <span class="p">{</span>

    <span class="p">}</span> <span class="cm">/* not valid */</span>
<span class="p">}</span> <span class="cm">/* end forever */</span></code></pre></figure>

<p><a href="#cpp-format-cpp-closing-endif" name="cpp-format-cpp-closing-endif" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  add comments to closing preprocessor directives to make them easier to understand.  For example:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#if _BEGIN_CODE_
</span>
<span class="cp">#ifndef _INTERNAL_CODE_
</span>
<span class="cp">#endif </span><span class="cm">/* _INTERNAL_CODE_ */</span><span class="cp">
</span>
<span class="cp">#endif </span><span class="cm">/* _BEGIN_CODE_ */</span></code></pre></figure>

<p><a href="#cpp-format-cpp-space-return" name="cpp-format-cpp-space-return" class="requirement" role="img" aria-label="YOU SHOULD NOT">⚠️</a> <strong>YOU SHOULD NOT</strong>  use parens in return statements when it isn’t necessary.</p>

<p><a href="#cpp-format-cpp-no-yoda" name="cpp-format-cpp-no-yoda" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  place constants on the right of comparisons. For example <code class="language-plaintext highlighter-rouge">if (a == 0)</code> and not <code class="language-plaintext highlighter-rouge">if (0 == a)</code></p>

<p><a href="#cpp-format-cpp-comment-fallthru" name="cpp-format-cpp-comment-fallthru" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  include a comment for falling through a non-empty <code class="language-plaintext highlighter-rouge">case</code> statement.  For example:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">switch</span> <span class="p">(...)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">DoSomething</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">DoSomethingElse</span><span class="p">();</span>
        <span class="cm">/* fall through */</span>
    <span class="k">case</span> <span class="mi">3</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">v</span><span class="p">;</span>

            <span class="n">DoSomethingMore</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="nl">default:</span>
        <span class="n">Log</span><span class="p">(</span><span class="n">LOG_DEBUG</span><span class="p">,</span> <span class="s">"default case reached"</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p><a href="#cpp-format-cpp-no-goto" name="cpp-format-cpp-no-goto" class="requirement" role="img" aria-label="YOU SHOULD NOT">⚠️</a> <strong>YOU SHOULD NOT</strong>  use <code class="language-plaintext highlighter-rouge">goto</code> statements.  The main place where <code class="language-plaintext highlighter-rouge">goto</code> statements can be usefully employed is to break out of several levels of <code class="language-plaintext highlighter-rouge">switch</code>, <code class="language-plaintext highlighter-rouge">for</code>, or <code class="language-plaintext highlighter-rouge">while</code> nesting, although the need to do such a thing may indicate that the inner constructs should be broken out into a separate function with a success/failure return code.  When a <code class="language-plaintext highlighter-rouge">goto</code> is necessary, the accompanying label should be alone on a line and to the left of the code that follows.  The <code class="language-plaintext highlighter-rouge">goto</code> should be commented as to its utility and purpose.</p>

<h3 id="cpp-repository-readme">README</h3>

<p><a href="#cpp-docs-readme" name="cpp-docs-readme" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  have a README.md file in the component root folder.</p>

<p>An example of a good <code class="language-plaintext highlighter-rouge">README.md</code> file can be found <a href="https://github.com/Azure/azure-sdk-for-cpp/blob/main/sdk/core/azure-core/README.md">here</a>.</p>

<p><a href="#cpp-docs-readme-consumer" name="cpp-docs-readme-consumer" class="requirement" role="img" aria-label="DO">✅</a> <strong>DO</strong>  optimize the <code class="language-plaintext highlighter-rouge">README.md</code> for the consumer of the client library.</p>

<p>The contributor guide (<code class="language-plaintext highlighter-rouge">CONTRIBUTING.md</code>) should be a separate file linked to from the main component <code class="language-plaintext highlighter-rouge">README.md</code>.</p>

<h3 id="cpp-samples">Samples</h3>

<blockquote>
  <p>TODO: Provide sample guidelines.</p>
</blockquote>

<h2 id="cpp-appendix-overlookedguidelines">Commonly Overlooked C++ API Design Guidelines</h2>

<blockquote>
  <p>TODO: Provide C++ specific API design guidelines.  Example:</p>
</blockquote>

<p><a href="#cpp-format-cpp-no-goto" name="cpp-format-cpp-no-goto" class="requirement" role="img" aria-label="YOU SHOULD NOT">⚠️</a> <strong>YOU SHOULD NOT</strong>  use <code class="language-plaintext highlighter-rouge">goto</code> statements.  The main place where <code class="language-plaintext highlighter-rouge">goto</code> statements can be usefully employed is to break out of several levels of <code class="language-plaintext highlighter-rouge">switch</code>, <code class="language-plaintext highlighter-rouge">for</code>, or <code class="language-plaintext highlighter-rouge">while</code> nesting, although the need to do such a thing may indicate that the inner constructs should be broken out into a separate function with a success/failure return code.  When a <code class="language-plaintext highlighter-rouge">goto</code> is necessary, the accompanying label should be alone on a line and to the left of the code that follows.  The <code class="language-plaintext highlighter-rouge">goto</code> should be commented as to its utility and purpose.</p>

<!-- Links -->


        
            <div class="tags">
                
            </div>
        
            

        </div>
    </div>
</div>
                </div>
                <!-- /.row -->

            </div>
            <!-- /.container -->
        </div>
        <!-- /#main -->
    </div>
    
    <!-- the google_analytics_id gets auto inserted from the config file -->



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-62780441-46"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-62780441-46');
</script>

<!-- OLD SCRIPT
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-62780441-46','auto');ga('require','displayfeatures');ga('send','pageview');</script>
-->

    
    
    <!-- the app_insights gets auto inserted from the config file -->
<!-- For other configuration elements, see https://docs.microsoft.com/azure/azure-monitor/app/javascript#snippet-based-setup -->

<script type="text/javascript">
var sdkInstance="appInsightsSDK";window[sdkInstance]="appInsights";var aiName=window[sdkInstance],aisdk=window[aiName]||function(n){var o={config:n,initialize:!0},t=document,e=window,i="script";setTimeout(function(){var e=t.createElement(i);e.src=n.url||"https://az416426.vo.msecnd.net/scripts/b/ai.2.min.js",t.getElementsByTagName(i)[0].parentNode.appendChild(e)});try{o.cookie=t.cookie}catch(e){}function a(n){o[n]=function(){var e=arguments;o.queue.push(function(){o[n].apply(o,e)})}}o.queue=[],o.version=2;for(var s=["Event","PageView","Exception","Trace","DependencyData","Metric","PageViewPerformance"];s.length;)a("track"+s.pop());var r="Track",c=r+"Page";a("start"+c),a("stop"+c);var u=r+"Event";if(a("start"+u),a("stop"+u),a("addTelemetryInitializer"),a("setAuthenticatedUserContext"),a("clearAuthenticatedUserContext"),a("flush"),o.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4},!(!0===n.disableExceptionTracking||n.extensionConfig&&n.extensionConfig.ApplicationInsightsAnalytics&&!0===n.extensionConfig.ApplicationInsightsAnalytics.disableExceptionTracking)){a("_"+(s="onerror"));var p=e[s];e[s]=function(e,n,t,i,a){var r=p&&p(e,n,t,i,a);return!0!==r&&o["_"+s]({message:e,url:n,lineNumber:t,columnNumber:i,error:a}),r},n.autoExceptionInstrumented=!0}return o}(
{
    instrumentationKey:"5e03f19a-f5b4-4620-97d5-35707cec7fcb",
    autoTrackPageVisitTime:true,
    isCookieUseDisabled:true
}
);(window[aiName]=aisdk).queue&&0===aisdk.queue.length&&aisdk.trackPageView({});
</script>

    
</body>
<hr class="shaded"/>
<footer>
    <div class="container-fluid">
        <div class="row footer">
            <div class="col-lg-6 text-left pb-1">
           &copy;2023 Microsoft Azure. All rights reserved. 
 Site last generated: Aug 14, 2023
            </div>
            <div class="col-lg-6 text-right">
                <p><img src="/azure-sdk/images/company_logo.png" width="100px" alt="Microsoft logo"/></p>
            </div>
        </div>
    </div>
</footer>

</html>
